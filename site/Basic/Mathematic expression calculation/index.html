
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="A cool description of your site" name="description"/>
<link href="https://ylsama.github.io/Basic/Mathematic%20expression%20calculation/" rel="canonical"/>
<link href="../List/" rel="prev"/>
<link href="../Quick%20sort/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.2, mkdocs-material-9.2.8" name="generator"/>
<title>Mathematic expression calculation - leetcode-note</title>
<link href="../../assets/stylesheets/main.046329b4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.85d0ee34.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/gh/ObsidianPublisher/assets@main/dist/styles.css" rel="stylesheet"/>
<link href="../../assets/css/admonition.css" rel="stylesheet"/>
<link href="../../assets/css/custom_attributes.css" rel="stylesheet"/>
<link href="../../assets/css/customization.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
<link href="https://unpkg.com/tippy.js@6/animations/scale-subtle.css" rel="stylesheet"/>
<link href="https://unpkg.com/tippy.js@6/themes/translucent.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" referrerpolicy="no-referrer" rel="stylesheet"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="https://ylsama.github.io/assets/meta/SEO.png" property="og:image"/>
<meta content="https://ylsama.github.io/assets/meta/SEO.png" name="twitter:image"/>
<meta content="https://ylsama.github.io/" name="site_url"/>
<meta content="Mathematic expression calculation" property="og:title"/>
<meta content="Mathematic expression calculation" name="twitter:title"/>
<meta content="A cool description of your site" name="og:description"/>
<meta content="A cool description of your site" name="twitter:description"/>
<script> document.title = "Mathematic expression calculation" </script>
 <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="light-blue" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#problem">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="leetcode-note" class="md-header__button md-logo" data-md-component="logo" href="../.." title="leetcode-note">
<img alt="logo" src="../../assets/images/favicon.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            leetcode-note
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Mathematic expression calculation
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
    
  
  Leetcode notes

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../resume/">
        
  
    
  
  Resume

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../tags/">
        
  
    
  
  Tags

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../Array/">
          
  
    
  
  Basic

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Networks/Lap01/LAP%201%20-%20Routing/">
          
  
    
  
  Networks

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Program%20Language/C%20language/">
          
  
    
  
  Program Language

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Query%20Language/Dataview%20Query%20Language/">
          
  
    
  
  Query Language

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../notes/Leetcode%201-10/4.%20Median%20of%20Two%20Sorted%20Arrays/">
          
  
    
  
  Notes

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="leetcode-note" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="leetcode-note">
<img alt="logo" src="../../assets/images/favicon.png"/>
</a>
    leetcode-note
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Leetcode notes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resume/">
<span class="md-ellipsis">
    Resume
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tags/">
<span class="md-ellipsis">
    Tags
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Basic
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Basic
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Array/">
<span class="md-ellipsis">
    Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Big%20O%20Time%20Complexity/">
<span class="md-ellipsis">
    Big O Time Complexity
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Binary%20search/">
<span class="md-ellipsis">
    Binary search
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Bubble%20sort/">
<span class="md-ellipsis">
    Bubble sort
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linear%20search/">
<span class="md-ellipsis">
    Linear search
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linked%20List/">
<span class="md-ellipsis">
    Linked List
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../List/">
<span class="md-ellipsis">
    List
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Mathematic expression calculation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Mathematic expression calculation
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#problem">
    Problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solve">
    Solve
  </a>
<nav aria-label="Solve" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#information">
    Information
  </a>
<nav aria-label="Information" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-expression">
    Infix expression
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#postfix-expression">
    Postfix expression
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-knowledge-needed">
    Basic knowledge needed
  </a>
<nav aria-label="Basic knowledge needed" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#string-handler">
    String handler
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stack-data-structure">
    Stack data structure
  </a>
<nav aria-label="Stack data structure" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#linked-stack">
    Linked stack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#array-stack">
    Array stack
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#calculation-implementation">
    Calculation implementation
  </a>
<nav aria-label="Calculation implementation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#postfix-expression-calculation">
    Postfix expression calculation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-to-postfix">
    Infix to Postfix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-expression-calculation">
    Infix expression calculation
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Quick%20sort/">
<span class="md-ellipsis">
    Quick sort
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Two%20Crystal%20Ball/">
<span class="md-ellipsis">
    Two Crystal Ball
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Networks
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Networks
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
<span class="md-ellipsis">
    Lap01
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
            Lap01
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Networks/Lap01/LAP%201%20-%20Routing/">
<span class="md-ellipsis">
    LAP 1   Routing
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Program Language
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Program Language
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Program%20Language/C%20language/">
<span class="md-ellipsis">
    C language
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Program%20Language/Pascal/">
<span class="md-ellipsis">
    Pascal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Program%20Language/Python/">
<span class="md-ellipsis">
    Python
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Program%20Language/Rush/">
<span class="md-ellipsis">
    Rush
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Program%20Language/Rust/">
<span class="md-ellipsis">
    Rust
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Query Language
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Query Language
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Query%20Language/Dataview%20Query%20Language/">
<span class="md-ellipsis">
    Dataview Query Language
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Notes
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Notes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
<span class="md-ellipsis">
    Leetcode 1 10
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_1">
<span class="md-nav__icon md-icon"></span>
            Leetcode 1 10
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201-10/4.%20Median%20of%20Two%20Sorted%20Arrays/">
<span class="md-ellipsis">
    4. Median of Two Sorted Arrays
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
<span class="md-ellipsis">
    Leetcode 10 100
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_2">
<span class="md-nav__icon md-icon"></span>
            Leetcode 10 100
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/33.%20Search%20in%20Rotated%20Sorted%20Array/">
<span class="md-ellipsis">
    33. Search in Rotated Sorted Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/45.%20Jump%20Game%20II/">
<span class="md-ellipsis">
    45. Jump Game II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/46.%20Permutations/">
<span class="md-ellipsis">
    46. Permutations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/50.%20Pow%28x%2C%20n%29/">
<span class="md-ellipsis">
    50. Pow(x, n)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/55.%20Jump%20Game/">
<span class="md-ellipsis">
    55. Jump Game
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/62.%20Unique%20Paths/">
<span class="md-ellipsis">
    62. Unique Paths
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/63.%20Unique%20Paths%20II/">
<span class="md-ellipsis">
    63. Unique Paths II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/74.%20Search%20a%202D%20Matrix/">
<span class="md-ellipsis">
    74. Search a 2D Matrix
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/77.%20Combinations/">
<span class="md-ellipsis">
    77. Combinations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/80.%20Remove%20Duplicates%20from%20Sorted%20Array%20II/">
<span class="md-ellipsis">
    80. Remove Duplicates from Sorted Array II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/81.%20Search%20in%20Rotated%20Sorted%20Array%20II/">
<span class="md-ellipsis">
    81. Search in Rotated Sorted Array II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/84.%20Largest%20Rectangle%20in%20Histogram/">
<span class="md-ellipsis">
    84. Largest Rectangle in Histogram
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/86.%20Partition%20List/">
<span class="md-ellipsis">
    86. Partition List
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/88.%20Merge%20Sorted%20Array/">
<span class="md-ellipsis">
    88. Merge Sorted Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/91.%20Decode%20Ways/">
<span class="md-ellipsis">
    91. Decode Ways
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/92.%20Reverse%20Linked%20List%20II/">
<span class="md-ellipsis">
    92. Reverse Linked List II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/94.%20Binary%20Tree%20Inorder%20Traversal/">
<span class="md-ellipsis">
    94. Binary Tree Inorder Traversal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%2010-100/98.%20Validate%20Binary%20Search%20Tree/">
<span class="md-ellipsis">
    98. Validate Binary Search Tree
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
<span class="md-ellipsis">
    Leetcode 100 1000
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_3">
<span class="md-nav__icon md-icon"></span>
            Leetcode 100 1000
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/101.%20Symmetric%20Tree/">
<span class="md-ellipsis">
    101. Symmetric Tree
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/102.%20Binary%20Tree%20Level%20Order%20Traversal/">
<span class="md-ellipsis">
    102. Binary Tree Level Order Traversal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/103.%20Binary%20Tree%20Zigzag%20Level%20Order%20Traversal/">
<span class="md-ellipsis">
    103. Binary Tree Zigzag Level Order Traversal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/104.%20Maximum%20Depth%20of%20Binary%20Tree/">
<span class="md-ellipsis">
    104. Maximum Depth of Binary Tree
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/108.%20Convert%20Sorted%20Array%20to%20Binary%20Search%20Tree/">
<span class="md-ellipsis">
    108. Convert Sorted Array to Binary Search Tree
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/110.%20Balanced%20Binary%20Tree/">
<span class="md-ellipsis">
    110. Balanced Binary Tree
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/116.%20Populating%20Next%20Right%20Pointers%20in%20Each%20Node/">
<span class="md-ellipsis">
    116. Populating Next Right Pointers in Each Node
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/118.%20Pascal%27s%20Triangle/">
<span class="md-ellipsis">
    118. Pascal's Triangle
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/119.%20Pascal%27s%20Triangle%20II/">
<span class="md-ellipsis">
    119. Pascal's Triangle II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/121.%20Best%20Time%20to%20Buy%20and%20Sell%20Stock/">
<span class="md-ellipsis">
    121. Best Time to Buy and Sell Stock
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/122.%20Best%20Time%20to%20Buy%20and%20Sell%20Stock%20II/">
<span class="md-ellipsis">
    122. Best Time to Buy and Sell Stock II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/124.%20Binary%20Tree%20Maximum%20Path%20Sum/">
<span class="md-ellipsis">
    124. Binary Tree Maximum Path Sum
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/125.%20Valid%20Palindrome/">
<span class="md-ellipsis">
    125. Valid Palindrome
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/130.%20Surrounded%20Regions/">
<span class="md-ellipsis">
    130. Surrounded Regions
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/131.%20Palindrome%20Partitioning/">
<span class="md-ellipsis">
    131. Palindrome Partitioning
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/134.%20Gas%20Station/">
<span class="md-ellipsis">
    134. Gas Station
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/136.%20Single%20Number/">
<span class="md-ellipsis">
    136. Single Number
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/138.%20Copy%20List%20with%20Random%20Pointer/">
<span class="md-ellipsis">
    138. Copy List with Random Pointer
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/139.%20Word%20Break/">
<span class="md-ellipsis">
    139. Word Break
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/141.%20Linked%20List%20Cycle/">
<span class="md-ellipsis">
    141. Linked List Cycle
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/146.%20LRU%20Cache/">
<span class="md-ellipsis">
    146. LRU Cache
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/148.%20Sort%20List/">
<span class="md-ellipsis">
    148. Sort List
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/149.%20Max%20Points%20on%20a%20Line/">
<span class="md-ellipsis">
    149. Max Points on a Line
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/150.%20Evaluate%20Reverse%20Polish%20Notation/">
<span class="md-ellipsis">
    150. Evaluate Reverse Polish Notation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/168.%20Excel%20Sheet%20Column%20Title/">
<span class="md-ellipsis">
    168. Excel Sheet Column Title
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/169.%20Majority%20Element/">
<span class="md-ellipsis">
    169. Majority Element
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/171.%20Excel%20Sheet%20Column%20Number/">
<span class="md-ellipsis">
    171. Excel Sheet Column Number
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/190.%20Reverse%20Bits/">
<span class="md-ellipsis">
    190. Reverse Bits
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/191.%20Number%20of%201%20Bits/">
<span class="md-ellipsis">
    191. Number of 1 Bits
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/202.%20Happy%20Number/">
<span class="md-ellipsis">
    202. Happy Number
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/206.%20Reverse%20Linked%20List/">
<span class="md-ellipsis">
    206. Reverse Linked List
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/207.%20Course%20Schedule/">
<span class="md-ellipsis">
    207. Course Schedule
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/212.%20Word%20Search%20II/">
<span class="md-ellipsis">
    212. Word Search II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/215.%20Kth%20Largest%20Element%20in%20an%20Array/">
<span class="md-ellipsis">
    215. Kth Largest Element in an Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/217.%20Contains%20Duplicate/">
<span class="md-ellipsis">
    217. Contains Duplicate
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/225.%20Implement%20Stack%20using%20Queues/">
<span class="md-ellipsis">
    225. Implement Stack using Queues
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/234.%20Palindrome%20Linked%20List/">
<span class="md-ellipsis">
    234. Palindrome Linked List
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/239.%20Sliding%20Window%20Maximum/">
<span class="md-ellipsis">
    239. Sliding Window Maximum
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/242.%20Valid%20Anagram/">
<span class="md-ellipsis">
    242. Valid Anagram
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/268.%20Missing%20Number/">
<span class="md-ellipsis">
    268. Missing Number
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/274.%20H-Index/">
<span class="md-ellipsis">
    274. H Index
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/283.%20Move%20Zeroes/">
<span class="md-ellipsis">
    283. Move Zeroes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/326.%20Power%20of%20Three/">
<span class="md-ellipsis">
    326. Power of Three
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/338.%20Counting%20Bits/">
<span class="md-ellipsis">
    338. Counting Bits
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/344.%20Reverse%20String/">
<span class="md-ellipsis">
    344. Reverse String
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/350.%20Intersection%20of%20Two%20Arrays%20II/">
<span class="md-ellipsis">
    350. Intersection of Two Arrays II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/373.%20Find%20K%20Pairs%20with%20Smallest%20Sums/">
<span class="md-ellipsis">
    373. Find K Pairs with Smallest Sums
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/377.%20Combination%20Sum%20IV/">
<span class="md-ellipsis">
    377. Combination Sum IV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/380.%20Insert%20Delete%20GetRandom%20O%281%29/">
<span class="md-ellipsis">
    380. Insert Delete GetRandom O(1)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/387.%20First%20Unique%20Character%20in%20a%20String/">
<span class="md-ellipsis">
    387. First Unique Character in a String
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/389.%20Find%20the%20Difference/">
<span class="md-ellipsis">
    389. Find the Difference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/392.%20Is%20Subsequence/">
<span class="md-ellipsis">
    392. Is Subsequence
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/412.%20Fizz%20Buzz/">
<span class="md-ellipsis">
    412. Fizz Buzz
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/435.%20Non-overlapping%20Intervals/">
<span class="md-ellipsis">
    435. Non overlapping Intervals
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/445.%20Add%20Two%20Numbers%20II/">
<span class="md-ellipsis">
    445. Add Two Numbers II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/456.%20132%20Pattern/">
<span class="md-ellipsis">
    456. 132 Pattern
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/459.%20Repeated%20Substring%20Pattern/">
<span class="md-ellipsis">
    459. Repeated Substring Pattern
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/518.%20Coin%20Change%20II/">
<span class="md-ellipsis">
    518. Coin Change II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/530.%20Minimum%20Absolute%20Difference%20in%20BST/">
<span class="md-ellipsis">
    530. Minimum Absolute Difference in BST
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/542.%2001%20Matrix/">
<span class="md-ellipsis">
    542. 01 Matrix
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/688.%20Knight%20Probability%20in%20Chessboard/">
<span class="md-ellipsis">
    688. Knight Probability in Chessboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/712.%20Minimum%20ASCII%20Delete%20Sum%20for%20Two%20Strings/">
<span class="md-ellipsis">
    712. Minimum ASCII Delete Sum for Two Strings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/714.%20Best%20Time%20to%20Buy%20and%20Sell%20Stock%20with%20Transaction%20Fee/">
<span class="md-ellipsis">
    714. Best Time to Buy and Sell Stock with Transaction Fee
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/735.%20Asteroid%20Collision/">
<span class="md-ellipsis">
    735. Asteroid Collision
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/746.%20Min%20Cost%20Climbing%20Stairs/">
<span class="md-ellipsis">
    746. Min Cost Climbing Stairs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/767.%20Reorganize%20String/">
<span class="md-ellipsis">
    767. Reorganize String
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/799.%20Champagne%20Tower/">
<span class="md-ellipsis">
    799. Champagne Tower
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/802.%20Find%20Eventual%20Safe%20States/">
<span class="md-ellipsis">
    802. Find Eventual Safe States
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/847.%20Shortest%20Path%20Visiting%20All%20Nodes/">
<span class="md-ellipsis">
    847. Shortest Path Visiting All Nodes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/852.%20Peak%20Index%20in%20a%20Mountain%20Array/">
<span class="md-ellipsis">
    852. Peak Index in a Mountain Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/859.%20Buddy%20Strings/">
<span class="md-ellipsis">
    859. Buddy Strings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/894.%20All%20Possible%20Full%20Binary%20Trees/">
<span class="md-ellipsis">
    894. All Possible Full Binary Trees
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%20100-1000/905.%20Sort%20Array%20By%20Parity/">
<span class="md-ellipsis">
    905. Sort Array By Parity
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
<span class="md-ellipsis">
    Leetcode 1000 10000
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_4">
<span class="md-nav__icon md-icon"></span>
            Leetcode 1000 10000
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1125.%20Smallest%20Sufficient%20Team/">
<span class="md-ellipsis">
    1125. Smallest Sufficient Team
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1143.%20Longest%20Common%20Subsequence/">
<span class="md-ellipsis">
    1143. Longest Common Subsequence
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1326.%20Minimum%20Number%20of%20Taps%20to%20Open%20to%20Water%20a%20Garden/">
<span class="md-ellipsis">
    1326. Minimum Number of Taps to Open to Water a Garden
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1337.%20The%20K%20Weakest%20Rows%20in%20a%20Matrix/">
<span class="md-ellipsis">
    1337. The K Weakest Rows in a Matrix
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1569.%20Number%20of%20Ways%20to%20Reorder%20Array%20to%20Get%20Same%20BST/">
<span class="md-ellipsis">
    1569. Number of Ways to Reorder Array to Get Same BST
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1601.%20Maximum%20Number%20of%20Achievable%20Transfer%20Requests/">
<span class="md-ellipsis">
    1601. Maximum Number of Achievable Transfer Requests
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1615.%20Maximal%20Network%20Rank/">
<span class="md-ellipsis">
    1615. Maximal Network Rank
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1658.%20Minimum%20Operations%20to%20Reduce%20X%20to%20Zero/">
<span class="md-ellipsis">
    1658. Minimum Operations to Reduce X to Zero
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1751.%20Maximum%20Number%20of%20Events%20That%20Can%20Be%20Attended%20II/">
<span class="md-ellipsis">
    1751. Maximum Number of Events That Can Be Attended II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1793.%20Maximum%20Score%20of%20a%20Good%20Subarray/">
<span class="md-ellipsis">
    1793. Maximum Score of a Good Subarray
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/1802.%20Maximum%20Value%20at%20a%20Given%20Index%20in%20a%20Bounded%20Array/">
<span class="md-ellipsis">
    1802. Maximum Value at a Given Index in a Bounded Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2008.%20Maximum%20Earnings%20From%20Taxi/">
<span class="md-ellipsis">
    2008. Maximum Earnings From Taxi
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2038.%20Remove%20Colored%20Pieces%20if%20Both%20Neighbors%20are%20the%20Same%20Color/">
<span class="md-ellipsis">
    2038. Remove Colored Pieces if Both Neighbors are the Same Color
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2140.%20Questions%20With%20Brainpower/">
<span class="md-ellipsis">
    2140. Questions With Brainpower
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2141.%20Maximum%20Running%20Time%20of%20N%20Computers/">
<span class="md-ellipsis">
    2141. Maximum Running Time of N Computers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2328.%20Number%20of%20Increasing%20Paths%20in%20a%20Grid/">
<span class="md-ellipsis">
    2328. Number of Increasing Paths in a Grid
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2352.%20Equal%20Row%20and%20Column%20Pairs%20-%20solve/">
<span class="md-ellipsis">
    2352. Equal Row and Column Pairs   solve
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2366.%20Minimum%20Replacements%20to%20Sort%20the%20Array/">
<span class="md-ellipsis">
    2366. Minimum Replacements to Sort the Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2369.%20Check%20if%20There%20is%20a%20Valid%20Partition%20For%20The%20Array/">
<span class="md-ellipsis">
    2369. Check if There is a Valid Partition For The Array
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2448.%20Minimum%20Cost%20to%20Make%20Array%20Equal/">
<span class="md-ellipsis">
    2448. Minimum Cost to Make Array Equal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2462.%20Total%20Cost%20to%20Hire%20K%20Workers/">
<span class="md-ellipsis">
    2462. Total Cost to Hire K Workers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/Leetcode%201000-10000/2616.%20Minimize%20the%20Maximum%20Difference%20of%20Pairs/">
<span class="md-ellipsis">
    2616. Minimize the Maximum Difference of Pairs
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#problem">
    Problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solve">
    Solve
  </a>
<nav aria-label="Solve" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#information">
    Information
  </a>
<nav aria-label="Information" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-expression">
    Infix expression
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#postfix-expression">
    Postfix expression
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-knowledge-needed">
    Basic knowledge needed
  </a>
<nav aria-label="Basic knowledge needed" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#string-handler">
    String handler
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stack-data-structure">
    Stack data structure
  </a>
<nav aria-label="Stack data structure" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#linked-stack">
    Linked stack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#array-stack">
    Array stack
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#calculation-implementation">
    Calculation implementation
  </a>
<nav aria-label="Calculation implementation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#postfix-expression-calculation">
    Postfix expression calculation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-to-postfix">
    Infix to Postfix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#infix-expression-calculation">
    Infix expression calculation
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Tags -->
<nav class="md-tags">
<a class="md-tag" href="../../tags/#computer_sience">computer_sience</a>
<a class="md-tag" href="../../tags/#coding_chalenge">coding_chalenge</a>
<a class="md-tag" href="../../tags/#pascal">pascal</a>
</nav>
<!-- Actions -->
<!--
  Hack: check whether the content contains a h1 headline. If it doesn't, the
  page title (or respectively site name) is used as the main headline.
-->
<!-- Page content -->
<h2 id="problem">Problem<a class="headerlink" href="#problem" title="Permanent link"></a></h2>
<p>Calculation and return result of a Mathematic expression</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>(1+2) * 3 - 5/2 + 1 - 4*(1-3)
</code></pre></div>
<h1 id="solve">Solve<a class="headerlink" href="#solve" title="Permanent link"></a></h1>
<blockquote>
<p>For simplicity, we use positive integer only. <code>/</code> operator will be consider as a <code>div</code> instead</p>
</blockquote>
<h2 id="information">Information<a class="headerlink" href="#information" title="Permanent link"></a></h2>
<h3 id="infix-expression">Infix expression<a class="headerlink" href="#infix-expression" title="Permanent link"></a></h3>
<p>Inputs Mathematic expression is called an infix expression, which is used by us in day today life</p>
<p>An infix expression have operators between operands. e.g. <code>A</code>,<code>A + B</code>,<code>(A + B) + (C  D)</code>. </p>
<h3 id="postfix-expression">Postfix expression<a class="headerlink" href="#postfix-expression" title="Permanent link"></a></h3>
<p>And postfix expression is a single letter or an operator, preceded by two postfix strings. Every postfix string longer than a single variable contains first and second operands followed by an operator .e.g. <code>A</code>,<code>A B +</code>,<code>A B + C D </code></p>
<h2 id="basic-knowledge-needed">Basic knowledge needed<a class="headerlink" href="#basic-knowledge-needed" title="Permanent link"></a></h2>
<p><code>pascal</code></p>
<p>This will cover really basic on how to Program in <a href="../../Program%20Language/Pascal/#getting-start" title="Pascal">Pascal</a> if you want to follow more</p>
<h3 id="string-handler">String handler<a class="headerlink" href="#string-handler" title="Permanent link"></a></h3>
<p>As input having multiple type of data, typing as a free form (user input) we need foundation/basic knowledge string handling, we need:</p>
<ul>
<li>String insert: Adding extra padding for separating different data type from user input.</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">var</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="k">begin</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">        </span><span class="nb">insert</span><span class="p">(</span><span class="s">','</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<ul>
<li>String delete/refine/trim: Delete extra space given by the user input</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">begin</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="k">begin</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="k">var</span>
<a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="k">begin</span>
<a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-2-21" id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-22" id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-23" id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-2-24" id="__codelineno-2-24" name="__codelineno-2-24"></a>
<a href="#__codelineno-2-25" id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="k">var</span>
<a href="#__codelineno-2-26" id="__codelineno-2-26" name="__codelineno-2-26"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-2-27" id="__codelineno-2-27" name="__codelineno-2-27"></a><span class="k">begin</span>
<a href="#__codelineno-2-28" id="__codelineno-2-28" name="__codelineno-2-28"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-29" id="__codelineno-2-29" name="__codelineno-2-29"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-30" id="__codelineno-2-30" name="__codelineno-2-30"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-31" id="__codelineno-2-31" name="__codelineno-2-31"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-32" id="__codelineno-2-32" name="__codelineno-2-32"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Trim string = "'</span><span class="o">,</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-2-33" id="__codelineno-2-33" name="__codelineno-2-33"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<ul>
<li>String to number: Extract number value from string</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1">// Built-in function</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">var</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="k">begin</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">            </span><span class="nb">val</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">                </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span>
<a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">            </span><span class="k">else</span>
<a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">                </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-3-18" id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-3-19" id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-3-20" id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-3-21" id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<p>By combining multiple technique, we can handle User input and turn them to numeric value that can be used for calculation.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// Check on String handling. trim.pas</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="k">begin</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="k">begin</span>
<a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a>
<a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="k">var</span>
<a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="k">begin</span>
<a href="#__codelineno-4-20" id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-21" id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-4-22" id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-23" id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-24" id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-25" id="__codelineno-4-25" name="__codelineno-4-25"></a>
<a href="#__codelineno-4-26" id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="c1">// Self-code</span>
<a href="#__codelineno-4-27" id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="k">function</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isParse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-4-28" id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="k">var</span>
<a href="#__codelineno-4-29" id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="w">    </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-4-30" id="__codelineno-4-30" name="__codelineno-4-30"></a><span class="k">begin</span>
<a href="#__codelineno-4-31" id="__codelineno-4-31" name="__codelineno-4-31"></a><span class="w">    </span><span class="n">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-4-32" id="__codelineno-4-32" name="__codelineno-4-32"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">true</span><span class="o">;</span>
<a href="#__codelineno-4-33" id="__codelineno-4-33" name="__codelineno-4-33"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-34" id="__codelineno-4-34" name="__codelineno-4-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">'0'</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">ord</span><span class="p">(</span><span class="s">'9'</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-4-35" id="__codelineno-4-35" name="__codelineno-4-35"></a><span class="w">            </span><span class="n">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">ord</span><span class="p">(</span><span class="s">'0'</span><span class="p">)</span>
<a href="#__codelineno-4-36" id="__codelineno-4-36" name="__codelineno-4-36"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-37" id="__codelineno-4-37" name="__codelineno-4-37"></a><span class="w">            </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-4-38" id="__codelineno-4-38" name="__codelineno-4-38"></a><span class="w">            </span><span class="k">break</span><span class="o">;</span>
<a href="#__codelineno-4-39" id="__codelineno-4-39" name="__codelineno-4-39"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-40" id="__codelineno-4-40" name="__codelineno-4-40"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-41" id="__codelineno-4-41" name="__codelineno-4-41"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-4-42" id="__codelineno-4-42" name="__codelineno-4-42"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span>
<a href="#__codelineno-4-43" id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span>
<a href="#__codelineno-4-44" id="__codelineno-4-44" name="__codelineno-4-44"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-45" id="__codelineno-4-45" name="__codelineno-4-45"></a><span class="w">    </span><span class="n">parse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-4-46" id="__codelineno-4-46" name="__codelineno-4-46"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-47" id="__codelineno-4-47" name="__codelineno-4-47"></a>
<a href="#__codelineno-4-48" id="__codelineno-4-48" name="__codelineno-4-48"></a><span class="c1">// Check on String handleing to_number.pas</span>
<a href="#__codelineno-4-49" id="__codelineno-4-49" name="__codelineno-4-49"></a><span class="k">var</span>
<a href="#__codelineno-4-50" id="__codelineno-4-50" name="__codelineno-4-50"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-4-51" id="__codelineno-4-51" name="__codelineno-4-51"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-4-52" id="__codelineno-4-52" name="__codelineno-4-52"></a><span class="w">    </span><span class="n">i</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-4-53" id="__codelineno-4-53" name="__codelineno-4-53"></a><span class="w">    </span><span class="n">isparse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-4-54" id="__codelineno-4-54" name="__codelineno-4-54"></a><span class="k">begin</span>
<a href="#__codelineno-4-55" id="__codelineno-4-55" name="__codelineno-4-55"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-56" id="__codelineno-4-56" name="__codelineno-4-56"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-57" id="__codelineno-4-57" name="__codelineno-4-57"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-58" id="__codelineno-4-58" name="__codelineno-4-58"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-59" id="__codelineno-4-59" name="__codelineno-4-59"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-4-60" id="__codelineno-4-60" name="__codelineno-4-60"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-61" id="__codelineno-4-61" name="__codelineno-4-61"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-4-62" id="__codelineno-4-62" name="__codelineno-4-62"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-4-63" id="__codelineno-4-63" name="__codelineno-4-63"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-4-64" id="__codelineno-4-64" name="__codelineno-4-64"></a><span class="w">            </span><span class="n">parse</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-4-65" id="__codelineno-4-65" name="__codelineno-4-65"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-4-66" id="__codelineno-4-66" name="__codelineno-4-66"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-67" id="__codelineno-4-67" name="__codelineno-4-67"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-4-68" id="__codelineno-4-68" name="__codelineno-4-68"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<blockquote>
<p>We can also go down the road of implement string Big number, for persistence calculation. Or parse to float number.</p>
</blockquote>
<h3 id="stack-data-structure">Stack data structure<a class="headerlink" href="#stack-data-structure" title="Permanent link"></a></h3>
<h4 id="linked-stack">Linked stack<a class="headerlink" href="#linked-stack" title="Permanent link"></a></h4>
<p>Postfix mathematic expression calculation is heavily rely on stack for storing calculation product data.  We implement basic operation of stack:</p>
<ul>
<li>Push (Last in)</li>
<li>Pop (First out)</li>
<li>Top (get the value of top of stack)</li>
<li>Stack traversal: Check the stack data</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">type</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="n">stacktype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">        </span><span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="k">var</span>
<a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="k">begin</span>
<a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-5-23" id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-5-24" id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">;</span>
<a href="#__codelineno-5-25" id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-26" id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-5-27" id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-28" id="__codelineno-5-28" name="__codelineno-5-28"></a>
<a href="#__codelineno-5-29" id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="k">function</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-5-30" id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="k">var</span>
<a href="#__codelineno-5-31" id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-5-32" id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="k">begin</span>
<a href="#__codelineno-5-33" id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">    </span><span class="n">pop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-5-34" id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-5-35" id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-5-36" id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-5-37" id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">    </span><span class="k">dispose</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-38" id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-39" id="__codelineno-5-39" name="__codelineno-5-39"></a>
<a href="#__codelineno-5-40" id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">stackTraversal</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-41" id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="k">var</span>
<a href="#__codelineno-5-42" id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-5-43" id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="k">begin</span>
<a href="#__codelineno-5-44" id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Stack length: '</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="o">,</span><span class="w"> </span><span class="s">' element'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-45" id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-5-46" id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">    </span><span class="nb">write</span><span class="p">(</span><span class="s">'Stack state: '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-47" id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-5-48" id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">        </span><span class="nb">write</span><span class="p">(</span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="o">,</span><span class="w"> </span><span class="s">', '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-49" id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-5-50" id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-51" id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'nil'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-52" id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-53" id="__codelineno-5-53" name="__codelineno-5-53"></a>
<a href="#__codelineno-5-54" id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="k">function</span><span class="w"> </span><span class="nf">top</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-5-55" id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="k">begin</span>
<a href="#__codelineno-5-56" id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="w">    </span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-5-57" id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-58" id="__codelineno-5-58" name="__codelineno-5-58"></a>
<a href="#__codelineno-5-59" id="__codelineno-5-59" name="__codelineno-5-59"></a><span class="k">var</span>
<a href="#__codelineno-5-60" id="__codelineno-5-60" name="__codelineno-5-60"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span>
<a href="#__codelineno-5-61" id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="k">begin</span>
<a href="#__codelineno-5-62" id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-5-63" id="__codelineno-5-63" name="__codelineno-5-63"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-5-64" id="__codelineno-5-64" name="__codelineno-5-64"></a><span class="w">    </span><span class="n">push</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-65" id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">top</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-5-66" id="__codelineno-5-66" name="__codelineno-5-66"></a><span class="w">    </span><span class="n">push</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-67" id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">top</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-5-68" id="__codelineno-5-68" name="__codelineno-5-68"></a><span class="w">    </span><span class="n">stackTraversal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-69" id="__codelineno-5-69" name="__codelineno-5-69"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-5-70" id="__codelineno-5-70" name="__codelineno-5-70"></a><span class="w">        </span><span class="n">pop</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-5-71" id="__codelineno-5-71" name="__codelineno-5-71"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-5-72" id="__codelineno-5-72" name="__codelineno-5-72"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<p>Combining with User input handling, we can add number value from user input to push directly into the stack:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">type</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="n">stacktype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">        </span><span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a>
<a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="k">var</span>
<a href="#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="k">begin</span>
<a href="#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-17" id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-6-18" id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-6-19" id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-6-20" id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-21" id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-22" id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-6-23" id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-6-24" id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">;</span>
<a href="#__codelineno-6-25" id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-26" id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-6-27" id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-28" id="__codelineno-6-28" name="__codelineno-6-28"></a>
<a href="#__codelineno-6-29" id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="k">function</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-30" id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="k">var</span>
<a href="#__codelineno-6-31" id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-6-32" id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="k">begin</span>
<a href="#__codelineno-6-33" id="__codelineno-6-33" name="__codelineno-6-33"></a><span class="w">    </span><span class="n">pop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-6-34" id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-6-35" id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-6-36" id="__codelineno-6-36" name="__codelineno-6-36"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-6-37" id="__codelineno-6-37" name="__codelineno-6-37"></a><span class="w">    </span><span class="k">dispose</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-38" id="__codelineno-6-38" name="__codelineno-6-38"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-39" id="__codelineno-6-39" name="__codelineno-6-39"></a>
<a href="#__codelineno-6-40" id="__codelineno-6-40" name="__codelineno-6-40"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">stackTraversal</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-41" id="__codelineno-6-41" name="__codelineno-6-41"></a><span class="k">var</span>
<a href="#__codelineno-6-42" id="__codelineno-6-42" name="__codelineno-6-42"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-6-43" id="__codelineno-6-43" name="__codelineno-6-43"></a><span class="k">begin</span>
<a href="#__codelineno-6-44" id="__codelineno-6-44" name="__codelineno-6-44"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Stack length: '</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="o">,</span><span class="w"> </span><span class="s">' element'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-45" id="__codelineno-6-45" name="__codelineno-6-45"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-6-46" id="__codelineno-6-46" name="__codelineno-6-46"></a><span class="w">    </span><span class="nb">write</span><span class="p">(</span><span class="s">'Stack state: '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-47" id="__codelineno-6-47" name="__codelineno-6-47"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-48" id="__codelineno-6-48" name="__codelineno-6-48"></a><span class="w">        </span><span class="nb">write</span><span class="p">(</span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="o">,</span><span class="w"> </span><span class="s">', '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-49" id="__codelineno-6-49" name="__codelineno-6-49"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-6-50" id="__codelineno-6-50" name="__codelineno-6-50"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-51" id="__codelineno-6-51" name="__codelineno-6-51"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'nil'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-52" id="__codelineno-6-52" name="__codelineno-6-52"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-53" id="__codelineno-6-53" name="__codelineno-6-53"></a>
<a href="#__codelineno-6-54" id="__codelineno-6-54" name="__codelineno-6-54"></a><span class="k">function</span><span class="w"> </span><span class="nf">top</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-55" id="__codelineno-6-55" name="__codelineno-6-55"></a><span class="k">begin</span>
<a href="#__codelineno-6-56" id="__codelineno-6-56" name="__codelineno-6-56"></a><span class="w">    </span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-6-57" id="__codelineno-6-57" name="__codelineno-6-57"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-58" id="__codelineno-6-58" name="__codelineno-6-58"></a>
<a href="#__codelineno-6-59" id="__codelineno-6-59" name="__codelineno-6-59"></a><span class="c1">// Check on String handling. trim.pas</span>
<a href="#__codelineno-6-60" id="__codelineno-6-60" name="__codelineno-6-60"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-61" id="__codelineno-6-61" name="__codelineno-6-61"></a><span class="k">begin</span>
<a href="#__codelineno-6-62" id="__codelineno-6-62" name="__codelineno-6-62"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-63" id="__codelineno-6-63" name="__codelineno-6-63"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-64" id="__codelineno-6-64" name="__codelineno-6-64"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-65" id="__codelineno-6-65" name="__codelineno-6-65"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-66" id="__codelineno-6-66" name="__codelineno-6-66"></a>
<a href="#__codelineno-6-67" id="__codelineno-6-67" name="__codelineno-6-67"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-68" id="__codelineno-6-68" name="__codelineno-6-68"></a><span class="k">begin</span>
<a href="#__codelineno-6-69" id="__codelineno-6-69" name="__codelineno-6-69"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-70" id="__codelineno-6-70" name="__codelineno-6-70"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-71" id="__codelineno-6-71" name="__codelineno-6-71"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-72" id="__codelineno-6-72" name="__codelineno-6-72"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-73" id="__codelineno-6-73" name="__codelineno-6-73"></a>
<a href="#__codelineno-6-74" id="__codelineno-6-74" name="__codelineno-6-74"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-75" id="__codelineno-6-75" name="__codelineno-6-75"></a><span class="k">var</span>
<a href="#__codelineno-6-76" id="__codelineno-6-76" name="__codelineno-6-76"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-77" id="__codelineno-6-77" name="__codelineno-6-77"></a><span class="k">begin</span>
<a href="#__codelineno-6-78" id="__codelineno-6-78" name="__codelineno-6-78"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-79" id="__codelineno-6-79" name="__codelineno-6-79"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-6-80" id="__codelineno-6-80" name="__codelineno-6-80"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-81" id="__codelineno-6-81" name="__codelineno-6-81"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-82" id="__codelineno-6-82" name="__codelineno-6-82"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-83" id="__codelineno-6-83" name="__codelineno-6-83"></a>
<a href="#__codelineno-6-84" id="__codelineno-6-84" name="__codelineno-6-84"></a><span class="c1">// Check on string handleing to_number.pas</span>
<a href="#__codelineno-6-85" id="__codelineno-6-85" name="__codelineno-6-85"></a><span class="k">function</span><span class="w"> </span><span class="nf">parse_integer</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isParse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-86" id="__codelineno-6-86" name="__codelineno-6-86"></a><span class="k">var</span>
<a href="#__codelineno-6-87" id="__codelineno-6-87" name="__codelineno-6-87"></a><span class="w">    </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-88" id="__codelineno-6-88" name="__codelineno-6-88"></a><span class="k">begin</span>
<a href="#__codelineno-6-89" id="__codelineno-6-89" name="__codelineno-6-89"></a><span class="w">    </span><span class="nb">val</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-90" id="__codelineno-6-90" name="__codelineno-6-90"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-91" id="__codelineno-6-91" name="__codelineno-6-91"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-92" id="__codelineno-6-92" name="__codelineno-6-92"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-6-93" id="__codelineno-6-93" name="__codelineno-6-93"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-6-94" id="__codelineno-6-94" name="__codelineno-6-94"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-95" id="__codelineno-6-95" name="__codelineno-6-95"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-96" id="__codelineno-6-96" name="__codelineno-6-96"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">true</span><span class="o">;</span>
<a href="#__codelineno-6-97" id="__codelineno-6-97" name="__codelineno-6-97"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-98" id="__codelineno-6-98" name="__codelineno-6-98"></a><span class="w">    </span><span class="n">parse_integer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-6-99" id="__codelineno-6-99" name="__codelineno-6-99"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-100" id="__codelineno-6-100" name="__codelineno-6-100"></a>
<a href="#__codelineno-6-101" id="__codelineno-6-101" name="__codelineno-6-101"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">to_integer</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-102" id="__codelineno-6-102" name="__codelineno-6-102"></a><span class="k">var</span>
<a href="#__codelineno-6-103" id="__codelineno-6-103" name="__codelineno-6-103"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-6-104" id="__codelineno-6-104" name="__codelineno-6-104"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-6-105" id="__codelineno-6-105" name="__codelineno-6-105"></a><span class="w">    </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-6-106" id="__codelineno-6-106" name="__codelineno-6-106"></a><span class="w">    </span><span class="n">isparse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-6-107" id="__codelineno-6-107" name="__codelineno-6-107"></a><span class="k">begin</span>
<a href="#__codelineno-6-108" id="__codelineno-6-108" name="__codelineno-6-108"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">FALSE</span><span class="o">;</span><span class="w"> </span><span class="c1">// Stop compiler warning</span>
<a href="#__codelineno-6-109" id="__codelineno-6-109" name="__codelineno-6-109"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-110" id="__codelineno-6-110" name="__codelineno-6-110"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-111" id="__codelineno-6-111" name="__codelineno-6-111"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-112" id="__codelineno-6-112" name="__codelineno-6-112"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-113" id="__codelineno-6-113" name="__codelineno-6-113"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-6-114" id="__codelineno-6-114" name="__codelineno-6-114"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-115" id="__codelineno-6-115" name="__codelineno-6-115"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-6-116" id="__codelineno-6-116" name="__codelineno-6-116"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-6-117" id="__codelineno-6-117" name="__codelineno-6-117"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-118" id="__codelineno-6-118" name="__codelineno-6-118"></a><span class="w">            </span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">parse_integer</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-119" id="__codelineno-6-119" name="__codelineno-6-119"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-6-120" id="__codelineno-6-120" name="__codelineno-6-120"></a><span class="w">                </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-121" id="__codelineno-6-121" name="__codelineno-6-121"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-6-122" id="__codelineno-6-122" name="__codelineno-6-122"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-123" id="__codelineno-6-123" name="__codelineno-6-123"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-124" id="__codelineno-6-124" name="__codelineno-6-124"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-125" id="__codelineno-6-125" name="__codelineno-6-125"></a>
<a href="#__codelineno-6-126" id="__codelineno-6-126" name="__codelineno-6-126"></a><span class="k">var</span>
<a href="#__codelineno-6-127" id="__codelineno-6-127" name="__codelineno-6-127"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span>
<a href="#__codelineno-6-128" id="__codelineno-6-128" name="__codelineno-6-128"></a><span class="k">begin</span>
<a href="#__codelineno-6-129" id="__codelineno-6-129" name="__codelineno-6-129"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-6-130" id="__codelineno-6-130" name="__codelineno-6-130"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-6-131" id="__codelineno-6-131" name="__codelineno-6-131"></a><span class="w">    </span><span class="n">push</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-132" id="__codelineno-6-132" name="__codelineno-6-132"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">top</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-6-133" id="__codelineno-6-133" name="__codelineno-6-133"></a><span class="w">    </span><span class="n">push</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-134" id="__codelineno-6-134" name="__codelineno-6-134"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">top</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-6-135" id="__codelineno-6-135" name="__codelineno-6-135"></a><span class="w">    </span><span class="n">stackTraversal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-136" id="__codelineno-6-136" name="__codelineno-6-136"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-137" id="__codelineno-6-137" name="__codelineno-6-137"></a><span class="w">        </span><span class="n">pop</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-138" id="__codelineno-6-138" name="__codelineno-6-138"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-139" id="__codelineno-6-139" name="__codelineno-6-139"></a>
<a href="#__codelineno-6-140" id="__codelineno-6-140" name="__codelineno-6-140"></a><span class="w">    </span><span class="c1">// input to stack</span>
<a href="#__codelineno-6-141" id="__codelineno-6-141" name="__codelineno-6-141"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-6-142" id="__codelineno-6-142" name="__codelineno-6-142"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-6-143" id="__codelineno-6-143" name="__codelineno-6-143"></a><span class="w">    </span><span class="n">to_integer</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-144" id="__codelineno-6-144" name="__codelineno-6-144"></a><span class="w">    </span><span class="n">stackTraversal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-145" id="__codelineno-6-145" name="__codelineno-6-145"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-6-146" id="__codelineno-6-146" name="__codelineno-6-146"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Pop: '</span><span class="o">,</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-6-147" id="__codelineno-6-147" name="__codelineno-6-147"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-6-148" id="__codelineno-6-148" name="__codelineno-6-148"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">dispose</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-6-149" id="__codelineno-6-149" name="__codelineno-6-149"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<h4 id="array-stack">Array stack<a class="headerlink" href="#array-stack" title="Permanent link"></a></h4>
<p>Stack can also be implementation using array, which have fixed size. Because of that, there is a maximum element that stack can have. </p>
<p>This is quite easy to implement than linked list.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">type</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">stringStack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">        </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">stringpush</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="o">;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="k">begin</span>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a>
<a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="k">function</span><span class="w"> </span><span class="nf">stringpop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="k">begin</span>
<a href="#__codelineno-7-15" id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">    </span><span class="n">stringpop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-7-16" id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-7-17" id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-7-18" id="__codelineno-7-18" name="__codelineno-7-18"></a>
<a href="#__codelineno-7-19" id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="k">function</span><span class="w"> </span><span class="nf">stringtop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-7-20" id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="k">begin</span>
<a href="#__codelineno-7-21" id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">    </span><span class="n">stringtop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-7-22" id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-7-23" id="__codelineno-7-23" name="__codelineno-7-23"></a>
<a href="#__codelineno-7-24" id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="o">...</span>
</code></pre></div>
<h2 id="calculation-implementation">Calculation implementation<a class="headerlink" href="#calculation-implementation" title="Permanent link"></a></h2>
<h3 id="postfix-expression-calculation">Postfix expression calculation<a class="headerlink" href="#postfix-expression-calculation" title="Permanent link"></a></h3>
<p>Calling back from definition</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="100%" href="./#postfix-expression"><div class="citation"> <a class="link_citation" href="https://ylsama.github.io/Basic/Mathematic expression calculation/"><i class="fas fa-link"></i> </a><h3 id="postfix-expression">Postfix expression</h3>
<p>And postfix expression is a single letter or an operator, preceded by two postfix strings. Every postfix string longer than a single variable contains first and second operands followed by an operator .e.g.<code>A</code>,<code>A B +</code>,<code>A B + C D </code></p></div></a></p>
<p>We can do all of the calculation on the stack</p>
<ul>
<li>A number found, we add it to stack</li>
<li>A operation found, we take two element at the top of stack, do calculation, then push result back to stack</li>
</ul>
<p>By combine this with string comparison, input handling, stack implementation.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">type</span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="n">stacktype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">        </span><span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a>
<a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="k">const</span>
<a href="#__codelineno-8-12" id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span><span class="n">operation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">'+'</span><span class="o">,</span><span class="w"> </span><span class="s">'-'</span><span class="o">,</span><span class="w"> </span><span class="s">'*'</span><span class="o">,</span><span class="w"> </span><span class="s">'/'</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-8-13" id="__codelineno-8-13" name="__codelineno-8-13"></a>
<a href="#__codelineno-8-14" id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-15" id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="k">var</span>
<a href="#__codelineno-8-16" id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-8-17" id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="k">begin</span>
<a href="#__codelineno-8-18" id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-19" id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-20" id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-8-21" id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-8-22" id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-8-23" id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-24" id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-25" id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-8-26" id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-8-27" id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">;</span>
<a href="#__codelineno-8-28" id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-29" id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-8-30" id="__codelineno-8-30" name="__codelineno-8-30"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-31" id="__codelineno-8-31" name="__codelineno-8-31"></a>
<a href="#__codelineno-8-32" id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="k">function</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-33" id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="k">var</span>
<a href="#__codelineno-8-34" id="__codelineno-8-34" name="__codelineno-8-34"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-8-35" id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="k">begin</span>
<a href="#__codelineno-8-36" id="__codelineno-8-36" name="__codelineno-8-36"></a><span class="w">    </span><span class="n">pop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-8-37" id="__codelineno-8-37" name="__codelineno-8-37"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-8-38" id="__codelineno-8-38" name="__codelineno-8-38"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-8-39" id="__codelineno-8-39" name="__codelineno-8-39"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-8-40" id="__codelineno-8-40" name="__codelineno-8-40"></a><span class="w">    </span><span class="k">dispose</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-41" id="__codelineno-8-41" name="__codelineno-8-41"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-42" id="__codelineno-8-42" name="__codelineno-8-42"></a>
<a href="#__codelineno-8-43" id="__codelineno-8-43" name="__codelineno-8-43"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-44" id="__codelineno-8-44" name="__codelineno-8-44"></a><span class="k">begin</span>
<a href="#__codelineno-8-45" id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-46" id="__codelineno-8-46" name="__codelineno-8-46"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-47" id="__codelineno-8-47" name="__codelineno-8-47"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-48" id="__codelineno-8-48" name="__codelineno-8-48"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-49" id="__codelineno-8-49" name="__codelineno-8-49"></a>
<a href="#__codelineno-8-50" id="__codelineno-8-50" name="__codelineno-8-50"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-51" id="__codelineno-8-51" name="__codelineno-8-51"></a><span class="k">begin</span>
<a href="#__codelineno-8-52" id="__codelineno-8-52" name="__codelineno-8-52"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-53" id="__codelineno-8-53" name="__codelineno-8-53"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-54" id="__codelineno-8-54" name="__codelineno-8-54"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-55" id="__codelineno-8-55" name="__codelineno-8-55"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-56" id="__codelineno-8-56" name="__codelineno-8-56"></a>
<a href="#__codelineno-8-57" id="__codelineno-8-57" name="__codelineno-8-57"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-58" id="__codelineno-8-58" name="__codelineno-8-58"></a><span class="k">var</span>
<a href="#__codelineno-8-59" id="__codelineno-8-59" name="__codelineno-8-59"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-60" id="__codelineno-8-60" name="__codelineno-8-60"></a><span class="k">begin</span>
<a href="#__codelineno-8-61" id="__codelineno-8-61" name="__codelineno-8-61"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-62" id="__codelineno-8-62" name="__codelineno-8-62"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-8-63" id="__codelineno-8-63" name="__codelineno-8-63"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-64" id="__codelineno-8-64" name="__codelineno-8-64"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-65" id="__codelineno-8-65" name="__codelineno-8-65"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-66" id="__codelineno-8-66" name="__codelineno-8-66"></a>
<a href="#__codelineno-8-67" id="__codelineno-8-67" name="__codelineno-8-67"></a><span class="c1">// Check on string handleing to_number.pas</span>
<a href="#__codelineno-8-68" id="__codelineno-8-68" name="__codelineno-8-68"></a><span class="k">function</span><span class="w"> </span><span class="nf">parse_integer</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isParse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-69" id="__codelineno-8-69" name="__codelineno-8-69"></a><span class="k">var</span>
<a href="#__codelineno-8-70" id="__codelineno-8-70" name="__codelineno-8-70"></a><span class="w">    </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-71" id="__codelineno-8-71" name="__codelineno-8-71"></a><span class="k">begin</span>
<a href="#__codelineno-8-72" id="__codelineno-8-72" name="__codelineno-8-72"></a><span class="w">    </span><span class="nb">val</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-73" id="__codelineno-8-73" name="__codelineno-8-73"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-74" id="__codelineno-8-74" name="__codelineno-8-74"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-75" id="__codelineno-8-75" name="__codelineno-8-75"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-8-76" id="__codelineno-8-76" name="__codelineno-8-76"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-8-77" id="__codelineno-8-77" name="__codelineno-8-77"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-78" id="__codelineno-8-78" name="__codelineno-8-78"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-79" id="__codelineno-8-79" name="__codelineno-8-79"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">true</span><span class="o">;</span>
<a href="#__codelineno-8-80" id="__codelineno-8-80" name="__codelineno-8-80"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-81" id="__codelineno-8-81" name="__codelineno-8-81"></a><span class="w">    </span><span class="n">parse_integer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-8-82" id="__codelineno-8-82" name="__codelineno-8-82"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-83" id="__codelineno-8-83" name="__codelineno-8-83"></a>
<a href="#__codelineno-8-84" id="__codelineno-8-84" name="__codelineno-8-84"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-85" id="__codelineno-8-85" name="__codelineno-8-85"></a><span class="k">var</span>
<a href="#__codelineno-8-86" id="__codelineno-8-86" name="__codelineno-8-86"></a><span class="w">    </span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-87" id="__codelineno-8-87" name="__codelineno-8-87"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-8-88" id="__codelineno-8-88" name="__codelineno-8-88"></a><span class="k">begin</span>
<a href="#__codelineno-8-89" id="__codelineno-8-89" name="__codelineno-8-89"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Processing current = '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-90" id="__codelineno-8-90" name="__codelineno-8-90"></a><span class="w">    </span><span class="c1">// try parse to integer</span>
<a href="#__codelineno-8-91" id="__codelineno-8-91" name="__codelineno-8-91"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-92" id="__codelineno-8-92" name="__codelineno-8-92"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-93" id="__codelineno-8-93" name="__codelineno-8-93"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Formula error, not enough element for calculation'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-94" id="__codelineno-8-94" name="__codelineno-8-94"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-95" id="__codelineno-8-95" name="__codelineno-8-95"></a><span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-96" id="__codelineno-8-96" name="__codelineno-8-96"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-97" id="__codelineno-8-97" name="__codelineno-8-97"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found valid operation, do: '</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-98" id="__codelineno-8-98" name="__codelineno-8-98"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'+'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-99" id="__codelineno-8-99" name="__codelineno-8-99"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'-'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-100" id="__codelineno-8-100" name="__codelineno-8-100"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'*'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-101" id="__codelineno-8-101" name="__codelineno-8-101"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'/'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">div</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-102" id="__codelineno-8-102" name="__codelineno-8-102"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-8-103" id="__codelineno-8-103" name="__codelineno-8-103"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-104" id="__codelineno-8-104" name="__codelineno-8-104"></a><span class="w">        </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-8-105" id="__codelineno-8-105" name="__codelineno-8-105"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">parse_integer</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-106" id="__codelineno-8-106" name="__codelineno-8-106"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-8-107" id="__codelineno-8-107" name="__codelineno-8-107"></a><span class="w">            </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a href="#__codelineno-8-108" id="__codelineno-8-108" name="__codelineno-8-108"></a><span class="w">        </span><span class="k">else</span>
<a href="#__codelineno-8-109" id="__codelineno-8-109" name="__codelineno-8-109"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Cant parse to integer, skipping'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-110" id="__codelineno-8-110" name="__codelineno-8-110"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-111" id="__codelineno-8-111" name="__codelineno-8-111"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-112" id="__codelineno-8-112" name="__codelineno-8-112"></a>
<a href="#__codelineno-8-113" id="__codelineno-8-113" name="__codelineno-8-113"></a><span class="k">var</span>
<a href="#__codelineno-8-114" id="__codelineno-8-114" name="__codelineno-8-114"></a><span class="w">    </span><span class="n">stack</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span>
<a href="#__codelineno-8-115" id="__codelineno-8-115" name="__codelineno-8-115"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-8-116" id="__codelineno-8-116" name="__codelineno-8-116"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-8-117" id="__codelineno-8-117" name="__codelineno-8-117"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-8-118" id="__codelineno-8-118" name="__codelineno-8-118"></a><span class="k">begin</span>
<a href="#__codelineno-8-119" id="__codelineno-8-119" name="__codelineno-8-119"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-120" id="__codelineno-8-120" name="__codelineno-8-120"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-121" id="__codelineno-8-121" name="__codelineno-8-121"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-122" id="__codelineno-8-122" name="__codelineno-8-122"></a>
<a href="#__codelineno-8-123" id="__codelineno-8-123" name="__codelineno-8-123"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-124" id="__codelineno-8-124" name="__codelineno-8-124"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-125" id="__codelineno-8-125" name="__codelineno-8-125"></a><span class="w">            </span><span class="nb">insert</span><span class="p">(</span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-126" id="__codelineno-8-126" name="__codelineno-8-126"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-127" id="__codelineno-8-127" name="__codelineno-8-127"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-128" id="__codelineno-8-128" name="__codelineno-8-128"></a>
<a href="#__codelineno-8-129" id="__codelineno-8-129" name="__codelineno-8-129"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-130" id="__codelineno-8-130" name="__codelineno-8-130"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-131" id="__codelineno-8-131" name="__codelineno-8-131"></a>
<a href="#__codelineno-8-132" id="__codelineno-8-132" name="__codelineno-8-132"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-8-133" id="__codelineno-8-133" name="__codelineno-8-133"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-8-134" id="__codelineno-8-134" name="__codelineno-8-134"></a>
<a href="#__codelineno-8-135" id="__codelineno-8-135" name="__codelineno-8-135"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-8-136" id="__codelineno-8-136" name="__codelineno-8-136"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-137" id="__codelineno-8-137" name="__codelineno-8-137"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-8-138" id="__codelineno-8-138" name="__codelineno-8-138"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-8-139" id="__codelineno-8-139" name="__codelineno-8-139"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-140" id="__codelineno-8-140" name="__codelineno-8-140"></a><span class="w">            </span><span class="n">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-141" id="__codelineno-8-141" name="__codelineno-8-141"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-8-142" id="__codelineno-8-142" name="__codelineno-8-142"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-143" id="__codelineno-8-143" name="__codelineno-8-143"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-144" id="__codelineno-8-144" name="__codelineno-8-144"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">''</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-8-145" id="__codelineno-8-145" name="__codelineno-8-145"></a><span class="w">        </span><span class="n">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-8-146" id="__codelineno-8-146" name="__codelineno-8-146"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-8-147" id="__codelineno-8-147" name="__codelineno-8-147"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Pop: '</span><span class="o">,</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-8-148" id="__codelineno-8-148" name="__codelineno-8-148"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-8-149" id="__codelineno-8-149" name="__codelineno-8-149"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<p>Input:<br/>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a>1 2 + 3 4 -*
</code></pre></div></p>
<p>Output:<br/>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>1 2 + 3 4 - *
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>Processing current = 1
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a>Found: 1
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>Processing current = 2
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>Found: 2
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>Processing current = +
<a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a>Found valid operation, do: 1 + 2 
<a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a>Processing current = 3
<a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a>Found: 3
<a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a>Processing current = 4
<a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a>Found: 4
<a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a>Processing current = -
<a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a>Found valid operation, do: 3 - 4 
<a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a>Processing current = *
<a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a>Found valid operation, do: 3 * -1
<a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a>Pop: -3
</code></pre></div></p>
<h3 id="infix-to-postfix">Infix to Postfix<a class="headerlink" href="#infix-to-postfix" title="Permanent link"></a></h3>
<p>A processing data middle step, as our input are in Infix format.</p>
<p>This can be done using a stack to hold operation and bracket:</p>
<ul>
<li><code>)</code>:  This have the most priority, we want to translating infix expression between two bracket  to postfix first, which mean to close this bracket till we pop out a <code>(</code> bracket.</li>
<li><code>*</code>, <code>/</code>: This have high priority, we want to only translating all of <code>*</code> and <code>/</code> operation in the stack before adding another of this to stack.</li>
<li><code>+</code>, <code>-</code>: This have low priority, we want to translating all of <code>*</code>,  <code>/</code>, <code>+</code> and <code>-</code> operation (till we found a open bracket <code>(</code> or stack is empty) in the stack before adding another of this to stack.</li>
<li><code>(</code>: We just add it to stack, and wait for <code>)</code> to pop it back.</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">type</span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="n">stacktype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">        </span><span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a>
<a href="#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="k">const</span>
<a href="#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">    </span><span class="n">operation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">'+'</span><span class="o">,</span><span class="w"> </span><span class="s">'-'</span><span class="o">,</span><span class="w"> </span><span class="s">'*'</span><span class="o">,</span><span class="w"> </span><span class="s">'/'</span><span class="o">,</span><span class="w"> </span><span class="s">'('</span><span class="o">,</span><span class="w"> </span><span class="s">')'</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a>
<a href="#__codelineno-11-14" id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-15" id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="k">var</span>
<a href="#__codelineno-11-16" id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-11-17" id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="k">begin</span>
<a href="#__codelineno-11-18" id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-19" id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-20" id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-11-21" id="__codelineno-11-21" name="__codelineno-11-21"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-11-22" id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-11-23" id="__codelineno-11-23" name="__codelineno-11-23"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-24" id="__codelineno-11-24" name="__codelineno-11-24"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-25" id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-11-26" id="__codelineno-11-26" name="__codelineno-11-26"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-11-27" id="__codelineno-11-27" name="__codelineno-11-27"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">;</span>
<a href="#__codelineno-11-28" id="__codelineno-11-28" name="__codelineno-11-28"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-29" id="__codelineno-11-29" name="__codelineno-11-29"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-11-30" id="__codelineno-11-30" name="__codelineno-11-30"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-31" id="__codelineno-11-31" name="__codelineno-11-31"></a>
<a href="#__codelineno-11-32" id="__codelineno-11-32" name="__codelineno-11-32"></a><span class="k">function</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-33" id="__codelineno-11-33" name="__codelineno-11-33"></a><span class="k">var</span>
<a href="#__codelineno-11-34" id="__codelineno-11-34" name="__codelineno-11-34"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-11-35" id="__codelineno-11-35" name="__codelineno-11-35"></a><span class="k">begin</span>
<a href="#__codelineno-11-36" id="__codelineno-11-36" name="__codelineno-11-36"></a><span class="w">    </span><span class="n">pop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-11-37" id="__codelineno-11-37" name="__codelineno-11-37"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-11-38" id="__codelineno-11-38" name="__codelineno-11-38"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-11-39" id="__codelineno-11-39" name="__codelineno-11-39"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-11-40" id="__codelineno-11-40" name="__codelineno-11-40"></a><span class="w">    </span><span class="k">dispose</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-41" id="__codelineno-11-41" name="__codelineno-11-41"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-42" id="__codelineno-11-42" name="__codelineno-11-42"></a>
<a href="#__codelineno-11-43" id="__codelineno-11-43" name="__codelineno-11-43"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">stackTraversal</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-44" id="__codelineno-11-44" name="__codelineno-11-44"></a><span class="k">var</span>
<a href="#__codelineno-11-45" id="__codelineno-11-45" name="__codelineno-11-45"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-11-46" id="__codelineno-11-46" name="__codelineno-11-46"></a><span class="k">begin</span>
<a href="#__codelineno-11-47" id="__codelineno-11-47" name="__codelineno-11-47"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Stack length: '</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="o">,</span><span class="w"> </span><span class="s">' element'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-48" id="__codelineno-11-48" name="__codelineno-11-48"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-11-49" id="__codelineno-11-49" name="__codelineno-11-49"></a><span class="w">    </span><span class="nb">write</span><span class="p">(</span><span class="s">'Stack state: '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-50" id="__codelineno-11-50" name="__codelineno-11-50"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-51" id="__codelineno-11-51" name="__codelineno-11-51"></a><span class="w">        </span><span class="nb">write</span><span class="p">(</span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="o">,</span><span class="w"> </span><span class="s">', '</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-52" id="__codelineno-11-52" name="__codelineno-11-52"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-11-53" id="__codelineno-11-53" name="__codelineno-11-53"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-54" id="__codelineno-11-54" name="__codelineno-11-54"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'nil'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-55" id="__codelineno-11-55" name="__codelineno-11-55"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-56" id="__codelineno-11-56" name="__codelineno-11-56"></a>
<a href="#__codelineno-11-57" id="__codelineno-11-57" name="__codelineno-11-57"></a><span class="k">function</span><span class="w"> </span><span class="nf">top</span><span class="p">(</span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-58" id="__codelineno-11-58" name="__codelineno-11-58"></a><span class="k">begin</span>
<a href="#__codelineno-11-59" id="__codelineno-11-59" name="__codelineno-11-59"></a><span class="w">    </span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-11-60" id="__codelineno-11-60" name="__codelineno-11-60"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-61" id="__codelineno-11-61" name="__codelineno-11-61"></a>
<a href="#__codelineno-11-62" id="__codelineno-11-62" name="__codelineno-11-62"></a><span class="c1">// Check on String handling. trim.pas</span>
<a href="#__codelineno-11-63" id="__codelineno-11-63" name="__codelineno-11-63"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-64" id="__codelineno-11-64" name="__codelineno-11-64"></a><span class="k">begin</span>
<a href="#__codelineno-11-65" id="__codelineno-11-65" name="__codelineno-11-65"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-66" id="__codelineno-11-66" name="__codelineno-11-66"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-67" id="__codelineno-11-67" name="__codelineno-11-67"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-68" id="__codelineno-11-68" name="__codelineno-11-68"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-69" id="__codelineno-11-69" name="__codelineno-11-69"></a>
<a href="#__codelineno-11-70" id="__codelineno-11-70" name="__codelineno-11-70"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-71" id="__codelineno-11-71" name="__codelineno-11-71"></a><span class="k">begin</span>
<a href="#__codelineno-11-72" id="__codelineno-11-72" name="__codelineno-11-72"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-73" id="__codelineno-11-73" name="__codelineno-11-73"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-74" id="__codelineno-11-74" name="__codelineno-11-74"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-75" id="__codelineno-11-75" name="__codelineno-11-75"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-76" id="__codelineno-11-76" name="__codelineno-11-76"></a>
<a href="#__codelineno-11-77" id="__codelineno-11-77" name="__codelineno-11-77"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-78" id="__codelineno-11-78" name="__codelineno-11-78"></a><span class="k">var</span>
<a href="#__codelineno-11-79" id="__codelineno-11-79" name="__codelineno-11-79"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-80" id="__codelineno-11-80" name="__codelineno-11-80"></a><span class="k">begin</span>
<a href="#__codelineno-11-81" id="__codelineno-11-81" name="__codelineno-11-81"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-82" id="__codelineno-11-82" name="__codelineno-11-82"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-11-83" id="__codelineno-11-83" name="__codelineno-11-83"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-84" id="__codelineno-11-84" name="__codelineno-11-84"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-85" id="__codelineno-11-85" name="__codelineno-11-85"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-86" id="__codelineno-11-86" name="__codelineno-11-86"></a>
<a href="#__codelineno-11-87" id="__codelineno-11-87" name="__codelineno-11-87"></a><span class="c1">// Check on string handleing to_number.pas</span>
<a href="#__codelineno-11-88" id="__codelineno-11-88" name="__codelineno-11-88"></a><span class="k">function</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isParse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-89" id="__codelineno-11-89" name="__codelineno-11-89"></a><span class="k">var</span>
<a href="#__codelineno-11-90" id="__codelineno-11-90" name="__codelineno-11-90"></a><span class="w">    </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-91" id="__codelineno-11-91" name="__codelineno-11-91"></a><span class="k">begin</span>
<a href="#__codelineno-11-92" id="__codelineno-11-92" name="__codelineno-11-92"></a><span class="w">    </span><span class="nb">val</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-93" id="__codelineno-11-93" name="__codelineno-11-93"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-94" id="__codelineno-11-94" name="__codelineno-11-94"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-95" id="__codelineno-11-95" name="__codelineno-11-95"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-11-96" id="__codelineno-11-96" name="__codelineno-11-96"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-11-97" id="__codelineno-11-97" name="__codelineno-11-97"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-98" id="__codelineno-11-98" name="__codelineno-11-98"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-99" id="__codelineno-11-99" name="__codelineno-11-99"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">true</span><span class="o">;</span>
<a href="#__codelineno-11-100" id="__codelineno-11-100" name="__codelineno-11-100"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-101" id="__codelineno-11-101" name="__codelineno-11-101"></a><span class="w">    </span><span class="n">parse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-11-102" id="__codelineno-11-102" name="__codelineno-11-102"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-103" id="__codelineno-11-103" name="__codelineno-11-103"></a>
<a href="#__codelineno-11-104" id="__codelineno-11-104" name="__codelineno-11-104"></a><span class="k">function</span><span class="w"> </span><span class="nf">priority</span><span class="p">(</span><span class="n">current</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-105" id="__codelineno-11-105" name="__codelineno-11-105"></a><span class="k">begin</span>
<a href="#__codelineno-11-106" id="__codelineno-11-106" name="__codelineno-11-106"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'*'</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'/'</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span>
<a href="#__codelineno-11-107" id="__codelineno-11-107" name="__codelineno-11-107"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'+'</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'-'</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-11-108" id="__codelineno-11-108" name="__codelineno-11-108"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'('</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-11-109" id="__codelineno-11-109" name="__codelineno-11-109"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-110" id="__codelineno-11-110" name="__codelineno-11-110"></a>
<a href="#__codelineno-11-111" id="__codelineno-11-111" name="__codelineno-11-111"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-112" id="__codelineno-11-112" name="__codelineno-11-112"></a><span class="k">var</span>
<a href="#__codelineno-11-113" id="__codelineno-11-113" name="__codelineno-11-113"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-11-114" id="__codelineno-11-114" name="__codelineno-11-114"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-115" id="__codelineno-11-115" name="__codelineno-11-115"></a><span class="k">begin</span>
<a href="#__codelineno-11-116" id="__codelineno-11-116" name="__codelineno-11-116"></a><span class="w">    </span><span class="nb">writeln</span><span class="o">;</span>
<a href="#__codelineno-11-117" id="__codelineno-11-117" name="__codelineno-11-117"></a><span class="w">    </span><span class="n">stackTraversal</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-118" id="__codelineno-11-118" name="__codelineno-11-118"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Current postfix = '</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-119" id="__codelineno-11-119" name="__codelineno-11-119"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-11-120" id="__codelineno-11-120" name="__codelineno-11-120"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Processing current = '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-121" id="__codelineno-11-121" name="__codelineno-11-121"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-122" id="__codelineno-11-122" name="__codelineno-11-122"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'('</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-123" id="__codelineno-11-123" name="__codelineno-11-123"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">')'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-124" id="__codelineno-11-124" name="__codelineno-11-124"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-125" id="__codelineno-11-125" name="__codelineno-11-125"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">'('</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-126" id="__codelineno-11-126" name="__codelineno-11-126"></a><span class="w">                </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-11-127" id="__codelineno-11-127" name="__codelineno-11-127"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-128" id="__codelineno-11-128" name="__codelineno-11-128"></a><span class="w">            </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-129" id="__codelineno-11-129" name="__codelineno-11-129"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-130" id="__codelineno-11-130" name="__codelineno-11-130"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="s">'+'</span><span class="o">,</span><span class="w"> </span><span class="s">'-'</span><span class="o">,</span><span class="w"> </span><span class="s">'*'</span><span class="o">,</span><span class="w"> </span><span class="s">'/'</span><span class="p">]</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-131" id="__codelineno-11-131" name="__codelineno-11-131"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span>
<a href="#__codelineno-11-132" id="__codelineno-11-132" name="__codelineno-11-132"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">priority</span><span class="p">(</span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">priority</span><span class="p">(</span><span class="n">top</span><span class="p">(</span><span class="n">stack</span><span class="p">))</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>
<a href="#__codelineno-11-133" id="__codelineno-11-133" name="__codelineno-11-133"></a><span class="w">                    </span><span class="k">break</span><span class="o">;</span>
<a href="#__codelineno-11-134" id="__codelineno-11-134" name="__codelineno-11-134"></a><span class="w">                </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-11-135" id="__codelineno-11-135" name="__codelineno-11-135"></a><span class="w">            </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-136" id="__codelineno-11-136" name="__codelineno-11-136"></a><span class="w">            </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-137" id="__codelineno-11-137" name="__codelineno-11-137"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-138" id="__codelineno-11-138" name="__codelineno-11-138"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-11-139" id="__codelineno-11-139" name="__codelineno-11-139"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-140" id="__codelineno-11-140" name="__codelineno-11-140"></a><span class="w">        </span><span class="n">parse</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-141" id="__codelineno-11-141" name="__codelineno-11-141"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-142" id="__codelineno-11-142" name="__codelineno-11-142"></a><span class="w">            </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-11-143" id="__codelineno-11-143" name="__codelineno-11-143"></a><span class="w">        </span><span class="k">end</span>
<a href="#__codelineno-11-144" id="__codelineno-11-144" name="__codelineno-11-144"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-145" id="__codelineno-11-145" name="__codelineno-11-145"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found unknown value "'</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="o">,</span><span class="s">'" skipping'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-146" id="__codelineno-11-146" name="__codelineno-11-146"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-147" id="__codelineno-11-147" name="__codelineno-11-147"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-148" id="__codelineno-11-148" name="__codelineno-11-148"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-149" id="__codelineno-11-149" name="__codelineno-11-149"></a>
<a href="#__codelineno-11-150" id="__codelineno-11-150" name="__codelineno-11-150"></a><span class="k">var</span>
<a href="#__codelineno-11-151" id="__codelineno-11-151" name="__codelineno-11-151"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-152" id="__codelineno-11-152" name="__codelineno-11-152"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-153" id="__codelineno-11-153" name="__codelineno-11-153"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-11-154" id="__codelineno-11-154" name="__codelineno-11-154"></a><span class="w">    </span><span class="n">postfix</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-11-155" id="__codelineno-11-155" name="__codelineno-11-155"></a><span class="w">    </span><span class="n">stack</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stacktype</span><span class="o">;</span>
<a href="#__codelineno-11-156" id="__codelineno-11-156" name="__codelineno-11-156"></a><span class="k">begin</span>
<a href="#__codelineno-11-157" id="__codelineno-11-157" name="__codelineno-11-157"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-158" id="__codelineno-11-158" name="__codelineno-11-158"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-159" id="__codelineno-11-159" name="__codelineno-11-159"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-160" id="__codelineno-11-160" name="__codelineno-11-160"></a>
<a href="#__codelineno-11-161" id="__codelineno-11-161" name="__codelineno-11-161"></a><span class="w">    </span><span class="c1">// adding space between operation and number</span>
<a href="#__codelineno-11-162" id="__codelineno-11-162" name="__codelineno-11-162"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-163" id="__codelineno-11-163" name="__codelineno-11-163"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">;</span>
<a href="#__codelineno-11-164" id="__codelineno-11-164" name="__codelineno-11-164"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">))</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-165" id="__codelineno-11-165" name="__codelineno-11-165"></a><span class="w">            </span><span class="nb">insert</span><span class="p">(</span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-166" id="__codelineno-11-166" name="__codelineno-11-166"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-167" id="__codelineno-11-167" name="__codelineno-11-167"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-168" id="__codelineno-11-168" name="__codelineno-11-168"></a>
<a href="#__codelineno-11-169" id="__codelineno-11-169" name="__codelineno-11-169"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-170" id="__codelineno-11-170" name="__codelineno-11-170"></a>
<a href="#__codelineno-11-171" id="__codelineno-11-171" name="__codelineno-11-171"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-172" id="__codelineno-11-172" name="__codelineno-11-172"></a>
<a href="#__codelineno-11-173" id="__codelineno-11-173" name="__codelineno-11-173"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-11-174" id="__codelineno-11-174" name="__codelineno-11-174"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-11-175" id="__codelineno-11-175" name="__codelineno-11-175"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-11-176" id="__codelineno-11-176" name="__codelineno-11-176"></a><span class="w">    </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-11-177" id="__codelineno-11-177" name="__codelineno-11-177"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-178" id="__codelineno-11-178" name="__codelineno-11-178"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-11-179" id="__codelineno-11-179" name="__codelineno-11-179"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-11-180" id="__codelineno-11-180" name="__codelineno-11-180"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-181" id="__codelineno-11-181" name="__codelineno-11-181"></a><span class="w">            </span><span class="n">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-182" id="__codelineno-11-182" name="__codelineno-11-182"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-11-183" id="__codelineno-11-183" name="__codelineno-11-183"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-184" id="__codelineno-11-184" name="__codelineno-11-184"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-185" id="__codelineno-11-185" name="__codelineno-11-185"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">''</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-11-186" id="__codelineno-11-186" name="__codelineno-11-186"></a><span class="w">        </span><span class="n">processingCurrentString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-187" id="__codelineno-11-187" name="__codelineno-11-187"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-11-188" id="__codelineno-11-188" name="__codelineno-11-188"></a><span class="w">        </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-11-189" id="__codelineno-11-189" name="__codelineno-11-189"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-11-190" id="__codelineno-11-190" name="__codelineno-11-190"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-11-191" id="__codelineno-11-191" name="__codelineno-11-191"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<h3 id="infix-expression-calculation">Infix expression calculation<a class="headerlink" href="#infix-expression-calculation" title="Permanent link"></a></h3>
<p>We have two stack type:</p>
<ul>
<li>One for Infix to postfix coinventing, to handle and hold <code>string</code> value (operation + bracket)</li>
<li>Second for postfix calculation stack, holding integer value.</li>
</ul>
<p>This mean two type implementation, with their own implement of push, pop, top. We combine Infix to Postfix convention and Postfix expression calculation for final implement</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">type</span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="n">integerStack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">        </span><span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-10" id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="n">stringStack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<a href="#__codelineno-12-11" id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">        </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-12-12" id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">        </span><span class="nb">length</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-13" id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-14" id="__codelineno-12-14" name="__codelineno-12-14"></a>
<a href="#__codelineno-12-15" id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="k">const</span>
<a href="#__codelineno-12-16" id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="w">    </span><span class="n">operation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">'+'</span><span class="o">,</span><span class="w"> </span><span class="s">'-'</span><span class="o">,</span><span class="w"> </span><span class="s">'*'</span><span class="o">,</span><span class="w"> </span><span class="s">'/'</span><span class="o">,</span><span class="w"> </span><span class="s">'('</span><span class="o">,</span><span class="w"> </span><span class="s">')'</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-12-17" id="__codelineno-12-17" name="__codelineno-12-17"></a>
<a href="#__codelineno-12-18" id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">integerStack</span><span class="o">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-19" id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="k">var</span>
<a href="#__codelineno-12-20" id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-12-21" id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="k">begin</span>
<a href="#__codelineno-12-22" id="__codelineno-12-22" name="__codelineno-12-22"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-23" id="__codelineno-12-23" name="__codelineno-12-23"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-24" id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-12-25" id="__codelineno-12-25" name="__codelineno-12-25"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-12-26" id="__codelineno-12-26" name="__codelineno-12-26"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-12-27" id="__codelineno-12-27" name="__codelineno-12-27"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-28" id="__codelineno-12-28" name="__codelineno-12-28"></a><span class="w">        </span><span class="k">new</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-29" id="__codelineno-12-29" name="__codelineno-12-29"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-12-30" id="__codelineno-12-30" name="__codelineno-12-30"></a><span class="w">        </span><span class="n">temp</span><span class="o">^.</span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-12-31" id="__codelineno-12-31" name="__codelineno-12-31"></a><span class="w">        </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">temp</span><span class="o">;</span>
<a href="#__codelineno-12-32" id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-33" id="__codelineno-12-33" name="__codelineno-12-33"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-12-34" id="__codelineno-12-34" name="__codelineno-12-34"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-35" id="__codelineno-12-35" name="__codelineno-12-35"></a>
<a href="#__codelineno-12-36" id="__codelineno-12-36" name="__codelineno-12-36"></a><span class="k">function</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">integerStack</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-37" id="__codelineno-12-37" name="__codelineno-12-37"></a><span class="k">var</span>
<a href="#__codelineno-12-38" id="__codelineno-12-38" name="__codelineno-12-38"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">^</span><span class="n">node</span><span class="o">;</span>
<a href="#__codelineno-12-39" id="__codelineno-12-39" name="__codelineno-12-39"></a><span class="k">begin</span>
<a href="#__codelineno-12-40" id="__codelineno-12-40" name="__codelineno-12-40"></a><span class="w">    </span><span class="n">pop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-12-41" id="__codelineno-12-41" name="__codelineno-12-41"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">;</span>
<a href="#__codelineno-12-42" id="__codelineno-12-42" name="__codelineno-12-42"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">top</span><span class="o">^.</span><span class="n">next</span><span class="o">;</span>
<a href="#__codelineno-12-43" id="__codelineno-12-43" name="__codelineno-12-43"></a><span class="w">    </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-12-44" id="__codelineno-12-44" name="__codelineno-12-44"></a><span class="w">    </span><span class="k">dispose</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-45" id="__codelineno-12-45" name="__codelineno-12-45"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-46" id="__codelineno-12-46" name="__codelineno-12-46"></a>
<a href="#__codelineno-12-47" id="__codelineno-12-47" name="__codelineno-12-47"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">stringpush</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="o">;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-48" id="__codelineno-12-48" name="__codelineno-12-48"></a><span class="k">begin</span>
<a href="#__codelineno-12-49" id="__codelineno-12-49" name="__codelineno-12-49"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-12-50" id="__codelineno-12-50" name="__codelineno-12-50"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">value</span><span class="o">;</span>
<a href="#__codelineno-12-51" id="__codelineno-12-51" name="__codelineno-12-51"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-52" id="__codelineno-12-52" name="__codelineno-12-52"></a>
<a href="#__codelineno-12-53" id="__codelineno-12-53" name="__codelineno-12-53"></a><span class="k">function</span><span class="w"> </span><span class="nf">stringpop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-12-54" id="__codelineno-12-54" name="__codelineno-12-54"></a><span class="k">begin</span>
<a href="#__codelineno-12-55" id="__codelineno-12-55" name="__codelineno-12-55"></a><span class="w">    </span><span class="n">stringpop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-12-56" id="__codelineno-12-56" name="__codelineno-12-56"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-12-57" id="__codelineno-12-57" name="__codelineno-12-57"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-58" id="__codelineno-12-58" name="__codelineno-12-58"></a>
<a href="#__codelineno-12-59" id="__codelineno-12-59" name="__codelineno-12-59"></a><span class="k">function</span><span class="w"> </span><span class="nf">stringtop</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="o">;</span>
<a href="#__codelineno-12-60" id="__codelineno-12-60" name="__codelineno-12-60"></a><span class="k">begin</span>
<a href="#__codelineno-12-61" id="__codelineno-12-61" name="__codelineno-12-61"></a><span class="w">    </span><span class="n">stringtop</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="p">]</span><span class="o">;</span>
<a href="#__codelineno-12-62" id="__codelineno-12-62" name="__codelineno-12-62"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-63" id="__codelineno-12-63" name="__codelineno-12-63"></a>
<a href="#__codelineno-12-64" id="__codelineno-12-64" name="__codelineno-12-64"></a><span class="c1">// Check on String handling. trim.pas</span>
<a href="#__codelineno-12-65" id="__codelineno-12-65" name="__codelineno-12-65"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceRight</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-66" id="__codelineno-12-66" name="__codelineno-12-66"></a><span class="k">begin</span>
<a href="#__codelineno-12-67" id="__codelineno-12-67" name="__codelineno-12-67"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-68" id="__codelineno-12-68" name="__codelineno-12-68"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-69" id="__codelineno-12-69" name="__codelineno-12-69"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-70" id="__codelineno-12-70" name="__codelineno-12-70"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-71" id="__codelineno-12-71" name="__codelineno-12-71"></a>
<a href="#__codelineno-12-72" id="__codelineno-12-72" name="__codelineno-12-72"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimSpaceLeft</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-73" id="__codelineno-12-73" name="__codelineno-12-73"></a><span class="k">begin</span>
<a href="#__codelineno-12-74" id="__codelineno-12-74" name="__codelineno-12-74"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-75" id="__codelineno-12-75" name="__codelineno-12-75"></a><span class="w">        </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-76" id="__codelineno-12-76" name="__codelineno-12-76"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-77" id="__codelineno-12-77" name="__codelineno-12-77"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-78" id="__codelineno-12-78" name="__codelineno-12-78"></a>
<a href="#__codelineno-12-79" id="__codelineno-12-79" name="__codelineno-12-79"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">trimMoreThan1Space</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-80" id="__codelineno-12-80" name="__codelineno-12-80"></a><span class="k">var</span>
<a href="#__codelineno-12-81" id="__codelineno-12-81" name="__codelineno-12-81"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-82" id="__codelineno-12-82" name="__codelineno-12-82"></a><span class="k">begin</span>
<a href="#__codelineno-12-83" id="__codelineno-12-83" name="__codelineno-12-83"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-84" id="__codelineno-12-84" name="__codelineno-12-84"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-85" id="__codelineno-12-85" name="__codelineno-12-85"></a><span class="w">            </span><span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-86" id="__codelineno-12-86" name="__codelineno-12-86"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-87" id="__codelineno-12-87" name="__codelineno-12-87"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-88" id="__codelineno-12-88" name="__codelineno-12-88"></a>
<a href="#__codelineno-12-89" id="__codelineno-12-89" name="__codelineno-12-89"></a><span class="c1">// Check on string handleing to_number.pas</span>
<a href="#__codelineno-12-90" id="__codelineno-12-90" name="__codelineno-12-90"></a><span class="k">function</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isParse</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-91" id="__codelineno-12-91" name="__codelineno-12-91"></a><span class="k">var</span>
<a href="#__codelineno-12-92" id="__codelineno-12-92" name="__codelineno-12-92"></a><span class="w">    </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-93" id="__codelineno-12-93" name="__codelineno-12-93"></a><span class="k">begin</span>
<a href="#__codelineno-12-94" id="__codelineno-12-94" name="__codelineno-12-94"></a><span class="w">    </span><span class="nb">val</span><span class="p">(</span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-95" id="__codelineno-12-95" name="__codelineno-12-95"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-96" id="__codelineno-12-96" name="__codelineno-12-96"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Error parse at '</span><span class="o">,</span><span class="w"> </span><span class="n">code</span><span class="o">,</span><span class="w"> </span><span class="s">' th character, c ="'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="w"> </span><span class="o">,</span><span class="s">'", value = "'</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="s">'"'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-97" id="__codelineno-12-97" name="__codelineno-12-97"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-12-98" id="__codelineno-12-98" name="__codelineno-12-98"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-12-99" id="__codelineno-12-99" name="__codelineno-12-99"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-100" id="__codelineno-12-100" name="__codelineno-12-100"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found: '</span><span class="o">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-101" id="__codelineno-12-101" name="__codelineno-12-101"></a><span class="w">        </span><span class="n">isParse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">true</span><span class="o">;</span>
<a href="#__codelineno-12-102" id="__codelineno-12-102" name="__codelineno-12-102"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-103" id="__codelineno-12-103" name="__codelineno-12-103"></a><span class="w">    </span><span class="n">parse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">v</span><span class="o">;</span>
<a href="#__codelineno-12-104" id="__codelineno-12-104" name="__codelineno-12-104"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-105" id="__codelineno-12-105" name="__codelineno-12-105"></a>
<a href="#__codelineno-12-106" id="__codelineno-12-106" name="__codelineno-12-106"></a><span class="k">function</span><span class="w"> </span><span class="nf">priority</span><span class="p">(</span><span class="n">current</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-107" id="__codelineno-12-107" name="__codelineno-12-107"></a><span class="k">begin</span>
<a href="#__codelineno-12-108" id="__codelineno-12-108" name="__codelineno-12-108"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'*'</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'/'</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span>
<a href="#__codelineno-12-109" id="__codelineno-12-109" name="__codelineno-12-109"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'+'</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'-'</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<a href="#__codelineno-12-110" id="__codelineno-12-110" name="__codelineno-12-110"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'('</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-12-111" id="__codelineno-12-111" name="__codelineno-12-111"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-112" id="__codelineno-12-112" name="__codelineno-12-112"></a>
<a href="#__codelineno-12-113" id="__codelineno-12-113" name="__codelineno-12-113"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">processingInfixString</span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-114" id="__codelineno-12-114" name="__codelineno-12-114"></a><span class="k">var</span>
<a href="#__codelineno-12-115" id="__codelineno-12-115" name="__codelineno-12-115"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-12-116" id="__codelineno-12-116" name="__codelineno-12-116"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-117" id="__codelineno-12-117" name="__codelineno-12-117"></a><span class="k">begin</span>
<a href="#__codelineno-12-118" id="__codelineno-12-118" name="__codelineno-12-118"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Current postfix = '</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-119" id="__codelineno-12-119" name="__codelineno-12-119"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-12-120" id="__codelineno-12-120" name="__codelineno-12-120"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Processing current = '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-121" id="__codelineno-12-121" name="__codelineno-12-121"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-122" id="__codelineno-12-122" name="__codelineno-12-122"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'('</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">stringpush</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">;</span>
<a href="#__codelineno-12-123" id="__codelineno-12-123" name="__codelineno-12-123"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">')'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-124" id="__codelineno-12-124" name="__codelineno-12-124"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stringpop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-125" id="__codelineno-12-125" name="__codelineno-12-125"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">'('</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-126" id="__codelineno-12-126" name="__codelineno-12-126"></a><span class="w">                </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-12-127" id="__codelineno-12-127" name="__codelineno-12-127"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">stringpop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-128" id="__codelineno-12-128" name="__codelineno-12-128"></a><span class="w">            </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-129" id="__codelineno-12-129" name="__codelineno-12-129"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-130" id="__codelineno-12-130" name="__codelineno-12-130"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="s">'+'</span><span class="o">,</span><span class="w"> </span><span class="s">'-'</span><span class="o">,</span><span class="w"> </span><span class="s">'*'</span><span class="o">,</span><span class="w"> </span><span class="s">'/'</span><span class="p">]</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-131" id="__codelineno-12-131" name="__codelineno-12-131"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span>
<a href="#__codelineno-12-132" id="__codelineno-12-132" name="__codelineno-12-132"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">priority</span><span class="p">(</span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">priority</span><span class="p">(</span><span class="n">stringtop</span><span class="p">(</span><span class="n">stack</span><span class="p">))</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>
<a href="#__codelineno-12-133" id="__codelineno-12-133" name="__codelineno-12-133"></a><span class="w">                    </span><span class="k">break</span><span class="o">;</span>
<a href="#__codelineno-12-134" id="__codelineno-12-134" name="__codelineno-12-134"></a><span class="w">                </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stringpop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-12-135" id="__codelineno-12-135" name="__codelineno-12-135"></a><span class="w">            </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-136" id="__codelineno-12-136" name="__codelineno-12-136"></a><span class="w">            </span><span class="n">stringpush</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">;</span>
<a href="#__codelineno-12-137" id="__codelineno-12-137" name="__codelineno-12-137"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-138" id="__codelineno-12-138" name="__codelineno-12-138"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-12-139" id="__codelineno-12-139" name="__codelineno-12-139"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-140" id="__codelineno-12-140" name="__codelineno-12-140"></a><span class="w">        </span><span class="n">parse</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-141" id="__codelineno-12-141" name="__codelineno-12-141"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-142" id="__codelineno-12-142" name="__codelineno-12-142"></a><span class="w">            </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-12-143" id="__codelineno-12-143" name="__codelineno-12-143"></a><span class="w">        </span><span class="k">end</span>
<a href="#__codelineno-12-144" id="__codelineno-12-144" name="__codelineno-12-144"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-145" id="__codelineno-12-145" name="__codelineno-12-145"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found unknown value "'</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="o">,</span><span class="s">'" skipping'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-146" id="__codelineno-12-146" name="__codelineno-12-146"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-147" id="__codelineno-12-147" name="__codelineno-12-147"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-148" id="__codelineno-12-148" name="__codelineno-12-148"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-149" id="__codelineno-12-149" name="__codelineno-12-149"></a>
<a href="#__codelineno-12-150" id="__codelineno-12-150" name="__codelineno-12-150"></a><span class="k">function</span><span class="w"> </span><span class="nf">toPostfix</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-151" id="__codelineno-12-151" name="__codelineno-12-151"></a><span class="k">var</span>
<a href="#__codelineno-12-152" id="__codelineno-12-152" name="__codelineno-12-152"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-153" id="__codelineno-12-153" name="__codelineno-12-153"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-154" id="__codelineno-12-154" name="__codelineno-12-154"></a><span class="w">    </span><span class="n">postfix</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-155" id="__codelineno-12-155" name="__codelineno-12-155"></a><span class="w">    </span><span class="n">stack</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">stringStack</span><span class="o">;</span>
<a href="#__codelineno-12-156" id="__codelineno-12-156" name="__codelineno-12-156"></a><span class="k">begin</span>
<a href="#__codelineno-12-157" id="__codelineno-12-157" name="__codelineno-12-157"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-12-158" id="__codelineno-12-158" name="__codelineno-12-158"></a>
<a href="#__codelineno-12-159" id="__codelineno-12-159" name="__codelineno-12-159"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-12-160" id="__codelineno-12-160" name="__codelineno-12-160"></a><span class="w">    </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-12-161" id="__codelineno-12-161" name="__codelineno-12-161"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-162" id="__codelineno-12-162" name="__codelineno-12-162"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-163" id="__codelineno-12-163" name="__codelineno-12-163"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-12-164" id="__codelineno-12-164" name="__codelineno-12-164"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-165" id="__codelineno-12-165" name="__codelineno-12-165"></a><span class="w">            </span><span class="n">processingInfixString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-166" id="__codelineno-12-166" name="__codelineno-12-166"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-12-167" id="__codelineno-12-167" name="__codelineno-12-167"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-168" id="__codelineno-12-168" name="__codelineno-12-168"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-169" id="__codelineno-12-169" name="__codelineno-12-169"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">''</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-170" id="__codelineno-12-170" name="__codelineno-12-170"></a><span class="w">        </span><span class="n">processingInfixString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">postfix</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-171" id="__codelineno-12-171" name="__codelineno-12-171"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-172" id="__codelineno-12-172" name="__codelineno-12-172"></a><span class="w">        </span><span class="n">postfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stringpop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' '</span><span class="o">;</span>
<a href="#__codelineno-12-173" id="__codelineno-12-173" name="__codelineno-12-173"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-174" id="__codelineno-12-174" name="__codelineno-12-174"></a>
<a href="#__codelineno-12-175" id="__codelineno-12-175" name="__codelineno-12-175"></a><span class="w">    </span><span class="n">toPostfix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">postfix</span><span class="o">;</span>
<a href="#__codelineno-12-176" id="__codelineno-12-176" name="__codelineno-12-176"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-177" id="__codelineno-12-177" name="__codelineno-12-177"></a>
<a href="#__codelineno-12-178" id="__codelineno-12-178" name="__codelineno-12-178"></a><span class="k">procedure</span><span class="w"> </span><span class="nf">processingPostfixString</span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">integerStack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-179" id="__codelineno-12-179" name="__codelineno-12-179"></a><span class="k">var</span>
<a href="#__codelineno-12-180" id="__codelineno-12-180" name="__codelineno-12-180"></a><span class="w">    </span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-181" id="__codelineno-12-181" name="__codelineno-12-181"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="o">;</span>
<a href="#__codelineno-12-182" id="__codelineno-12-182" name="__codelineno-12-182"></a><span class="k">begin</span>
<a href="#__codelineno-12-183" id="__codelineno-12-183" name="__codelineno-12-183"></a><span class="w">    </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Processing current = '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-184" id="__codelineno-12-184" name="__codelineno-12-184"></a><span class="w">    </span><span class="n">isparse</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">false</span><span class="o">;</span>
<a href="#__codelineno-12-185" id="__codelineno-12-185" name="__codelineno-12-185"></a><span class="w">    </span><span class="c1">// try parse to integer</span>
<a href="#__codelineno-12-186" id="__codelineno-12-186" name="__codelineno-12-186"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-187" id="__codelineno-12-187" name="__codelineno-12-187"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-188" id="__codelineno-12-188" name="__codelineno-12-188"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Formula error, not enough element for calculation'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-189" id="__codelineno-12-189" name="__codelineno-12-189"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-190" id="__codelineno-12-190" name="__codelineno-12-190"></a><span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-191" id="__codelineno-12-191" name="__codelineno-12-191"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-192" id="__codelineno-12-192" name="__codelineno-12-192"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Found valid operation, do: '</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-193" id="__codelineno-12-193" name="__codelineno-12-193"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'+'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-194" id="__codelineno-12-194" name="__codelineno-12-194"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'-'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-195" id="__codelineno-12-195" name="__codelineno-12-195"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'*'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-196" id="__codelineno-12-196" name="__codelineno-12-196"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">'/'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">div</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-197" id="__codelineno-12-197" name="__codelineno-12-197"></a><span class="w">    </span><span class="k">end</span>
<a href="#__codelineno-12-198" id="__codelineno-12-198" name="__codelineno-12-198"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-199" id="__codelineno-12-199" name="__codelineno-12-199"></a><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">isparse</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-200" id="__codelineno-12-200" name="__codelineno-12-200"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">isparse</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-201" id="__codelineno-12-201" name="__codelineno-12-201"></a><span class="w">            </span><span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="o">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a href="#__codelineno-12-202" id="__codelineno-12-202" name="__codelineno-12-202"></a><span class="w">        </span><span class="k">else</span>
<a href="#__codelineno-12-203" id="__codelineno-12-203" name="__codelineno-12-203"></a><span class="w">            </span><span class="nb">writeln</span><span class="p">(</span><span class="s">'Cant parse to integer, skipping'</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-204" id="__codelineno-12-204" name="__codelineno-12-204"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-205" id="__codelineno-12-205" name="__codelineno-12-205"></a><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-206" id="__codelineno-12-206" name="__codelineno-12-206"></a>
<a href="#__codelineno-12-207" id="__codelineno-12-207" name="__codelineno-12-207"></a><span class="k">var</span>
<a href="#__codelineno-12-208" id="__codelineno-12-208" name="__codelineno-12-208"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-209" id="__codelineno-12-209" name="__codelineno-12-209"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">string</span><span class="o">;</span>
<a href="#__codelineno-12-210" id="__codelineno-12-210" name="__codelineno-12-210"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="o">;</span>
<a href="#__codelineno-12-211" id="__codelineno-12-211" name="__codelineno-12-211"></a><span class="w">    </span><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="n">integerStack</span><span class="o">;</span>
<a href="#__codelineno-12-212" id="__codelineno-12-212" name="__codelineno-12-212"></a><span class="k">begin</span>
<a href="#__codelineno-12-213" id="__codelineno-12-213" name="__codelineno-12-213"></a><span class="w">    </span><span class="nb">readln</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-214" id="__codelineno-12-214" name="__codelineno-12-214"></a><span class="w">    </span><span class="n">trimSpaceRight</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-215" id="__codelineno-12-215" name="__codelineno-12-215"></a><span class="w">    </span><span class="n">trimSpaceLeft</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-216" id="__codelineno-12-216" name="__codelineno-12-216"></a>
<a href="#__codelineno-12-217" id="__codelineno-12-217" name="__codelineno-12-217"></a><span class="w">    </span><span class="c1">// adding space between operation and number</span>
<a href="#__codelineno-12-218" id="__codelineno-12-218" name="__codelineno-12-218"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-219" id="__codelineno-12-219" name="__codelineno-12-219"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">;</span>
<a href="#__codelineno-12-220" id="__codelineno-12-220" name="__codelineno-12-220"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">operation</span><span class="p">))</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>
<a href="#__codelineno-12-221" id="__codelineno-12-221" name="__codelineno-12-221"></a><span class="w">        </span><span class="k">begin</span>
<a href="#__codelineno-12-222" id="__codelineno-12-222" name="__codelineno-12-222"></a><span class="w">            </span><span class="nb">insert</span><span class="p">(</span><span class="s">' '</span><span class="o">,</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-223" id="__codelineno-12-223" name="__codelineno-12-223"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-224" id="__codelineno-12-224" name="__codelineno-12-224"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-225" id="__codelineno-12-225" name="__codelineno-12-225"></a>
<a href="#__codelineno-12-226" id="__codelineno-12-226" name="__codelineno-12-226"></a><span class="w">    </span><span class="n">trimMoreThan1Space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-227" id="__codelineno-12-227" name="__codelineno-12-227"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">toPostfix</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-228" id="__codelineno-12-228" name="__codelineno-12-228"></a>
<a href="#__codelineno-12-229" id="__codelineno-12-229" name="__codelineno-12-229"></a><span class="w">    </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-12-230" id="__codelineno-12-230" name="__codelineno-12-230"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">nil</span><span class="o">;</span>
<a href="#__codelineno-12-231" id="__codelineno-12-231" name="__codelineno-12-231"></a><span class="w">    </span><span class="n">stack</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<a href="#__codelineno-12-232" id="__codelineno-12-232" name="__codelineno-12-232"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-233" id="__codelineno-12-233" name="__codelineno-12-233"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">' '</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-234" id="__codelineno-12-234" name="__codelineno-12-234"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a href="#__codelineno-12-235" id="__codelineno-12-235" name="__codelineno-12-235"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-236" id="__codelineno-12-236" name="__codelineno-12-236"></a><span class="w">            </span><span class="n">processingPostfixString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-237" id="__codelineno-12-237" name="__codelineno-12-237"></a><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">''</span><span class="o">;</span>
<a href="#__codelineno-12-238" id="__codelineno-12-238" name="__codelineno-12-238"></a><span class="w">        </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-239" id="__codelineno-12-239" name="__codelineno-12-239"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-240" id="__codelineno-12-240" name="__codelineno-12-240"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">''</span><span class="w"> </span><span class="k">then</span>
<a href="#__codelineno-12-241" id="__codelineno-12-241" name="__codelineno-12-241"></a><span class="w">        </span><span class="n">processingPostfixString</span><span class="p">(</span><span class="n">current</span><span class="o">,</span><span class="w"> </span><span class="n">stack</span><span class="p">)</span><span class="o">;</span>
<a href="#__codelineno-12-242" id="__codelineno-12-242" name="__codelineno-12-242"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="n">top</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">begin</span>
<a href="#__codelineno-12-243" id="__codelineno-12-243" name="__codelineno-12-243"></a><span class="w">        </span><span class="nb">writeln</span><span class="p">(</span><span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">))</span><span class="o">;</span>
<a href="#__codelineno-12-244" id="__codelineno-12-244" name="__codelineno-12-244"></a><span class="w">    </span><span class="k">end</span><span class="o">;</span>
<a href="#__codelineno-12-245" id="__codelineno-12-245" name="__codelineno-12-245"></a><span class="k">end</span><span class="o">.</span>
</code></pre></div>
<!-- Source file information -->
<!-- taken from 
https://github.com/squidfunk/mkdocs-material/blob/master/src/partials/source-file.html -->
<hr/>
<div class="md-source-file">
<small>
<!-- mkdocs-git-revision-date-localized-plugin -->
<u>Last update</u> :
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 17, 2023</span>
<!-- mkdocs-git-revision-date-plugin -->
<br/>
<u>Created</u> :
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 3, 2023</span>
</small>
</div>
<!-- Was this page helpful? -->
<!-- Comment system -->
<!-- Giscus -->
<!-- Giscus -->
<script> 
    try {
      const index = document.querySelector('h1').innerHTML;
      if (index === "Index") {
        document.querySelector('h1').innerHTML = "Mathematic expression calculation";
      }
    } catch (error) {
      // console.log(error);
    }
  </script>
</article>
</div>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/ObsidianPublisher/assets@main/dist/javascript.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>